function Element(t){"#"==t[0]?this.node=document.querySelector(t)||document.getElementById(t.slice(1,t.length)):"."==t[0]?this.node=document.querySelector(t)||document.getElementByClassName(t.slice(1,t.length)):"*"==t[0]?this.node=document.querySelectorAll(t.slice(1,t.length))||document.getElementsByTagName(t.slice(1,t.length)):this.node=document.querySelector(t),this.val=function(t,i){return!this.node.value||t||i?this.node.innerHTML&&t&&!i?this.node.innerHTML:!this.node.innerText||t||i?this.node.outerHTML&&!t&&i?this.node.outerHTML:this.node.value?this.node.value:this.innerText:this.node.innerText:this.node.value},this.isVoid=function(){return 0==this.val()||void 0==this.val()||null==this.val()||""==this.val()||this.val()==[]||this.val()=={}},this.write=function(t,i,e){!this.node.value||i||e?this.node.innerHTML&&i&&!e?this.node.innerHTML=t:!this.node.innerText||i||e?this.node.outerHTML&&e&&!i?this.node.outerHTML=t:this.node.value?this.node.value=t:this.innerText=t:this.node.innerText=t:this.node.value=t},this.txt=function(t){this.node.value?this.node.value=t:this.innerText=t},this.html=function(t){this.node.outerHTML=t},this.remove=function(t,e){if(isArray(this.val()))for(i=0;i<this.val().length;i++)this.val()[i]==t&&(this.val()=this.val().slice(0,i).concat(this.val().slice(i+1,this.val().length)))
this.write(this.val().split(t).join(e||""))},this.setCSS=function(t,i){this.node.style[t]=i},this.setStyles=function(t){for(i=0;i<t.length-1;i+=2)this.setCSS(t[i],t[i+1])},this.css=function(t){return this.node.style[t]},this.hasClass=function(t){return new RegExp(" "+t+" ").test(" "+this.node.className+" ")||new RegExp(" "+t+" ").test(" "+this.node[t]+" ")||this.style.clasName==t},this.hasCSS=function(t){return new RegExp(" "+t+" ").test(" "+this.node.style.prop+" ")||new RegExp(" "+t+" ").test(" "+this.node[t]+" ")},this.addClass=function(t){this.hasClass(t)||(this.node.className+=" "+t)},this.rmClass=function(t){var i=" "+this.node.className.replace(/[\t\r\n]/g," ")+" "
if(this.hasClass(t)){for(;i.indexOf(" "+t+" ")>=0;)i=i.replace(" "+t+" "," ")
this.node.className=i.replace(/^\s+|\s+$/g,"")}},this.toggleCSS=function(t,e){if("visibility"==t)"visible"==this.css("visibility")?this.setCSS("visibility","hidden"):this.setCSS("visibility","visible")
else if("enabled"==t)"enabled"==this.css("enabled")?this.setCSS("enabled","disabled"):this.setCSS("enabled","enabled")
else if(!isNon(t)&&!isNon(e))for(i=0;i<e.length;i++)this.css(t)==e[i]&&this.setCSS(t,e[(i+1)%e.length])},this.show=function(){this.setCSS("opacity",1),this.setCSS("display","block")},this.hide=function(){this.setCSS("opacity",0),this.setCSS("display","none")},this.on=function(t,e){var r=["abort","autocomplete","autocompleteerror","beforeunload","blur","cancel","canplay","canplaythrough","change","click","close","contextmenu","cuechange","dblclick","devicemotion","deviceorientation","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","error","focus","hashchange","input","invalid","keydown","keypress","keyup","languagechange","load","loadeddata","loadedmetadata","loadstart","message","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","offline","online","pagehide","pageshow","pause","play","playing","popstate","progress","ratechange","reset","resize","scroll","search","seeked","seeking","select","show","stalled","storage","submit","suspend","timeupdate","toggle","transitionend","unload","volumechange","waiting","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend","wheel"]
for(i=0;i<r.lengt;i++)t.toLowerCase()==r[i]&&this.addEventListener(t,e,!1)},this.toString=function(){return"[object Element]"}}function $n(t){return $e(t).node}function include(t,i){i||(i=t.indexOf(".js")>0?"script":"link")
var e=document.createElement(i)
"script"==i?e.src=t:e.href=t,e.type="script"==i?"text/javascript":"text/css",document.head.appendChild(e)}function exclude(t,i){i||(i=t.indexOf(".js")>0?"script":"link")
var e=document.createElement(i)
"script"==i?e.src=t:e.href=t,e.type="script"==i?"text/javascript":"text/css",document.head.removeChild(e)}function addMetaData(t,i,e){var r=document.createElement("meta")
e?r.httpEquiv=e:r.name=t,r.content=i,document.head.appendChild(r)}function xor(t,i){return t&&!i||!t&&i}function noRightClick(){document.oncontextmenu=new Function("return false")}function reloadPage(t){1==t?location.reload():2==t?location.href=location.href:reloadPage(1)}function redirect(t,i,e){i||(i=3e3)
var r=Math.floor(i/1e3)
$("#"+e).write("<h2>Redirecting to <ins>"+t+"</ins> ...<br />in <span id='timeleft'>"+r+"</span>s</h2>",!0),r--,$e("#timeleft").write(r),setTimeout("location='"+t+"';",i)}function timesLiteral(t){switch(t){case 1:return"once"
case 2:return"twice"
default:return t+" times"}}function escapeHTML(t){var i=document.createElement("span")
return i.appendChild(document.createTextNode(t)),i.innerHTML}function unescapeHTML(t){var i=document.createElement("span")
return i.removeChild(document.createTextNode(t)),i.innerText}function isNon(t){return 0==t||void 0==t||null==t||""==t||t==[]||t=={}}function toMaxSize(){clientWidth||ActiveX||ActiveXObject?window.resizeTo(clientWidth,clientHeight):client.Width?window.resizeTo(client.Width,client.Height):client.width?window.resizeTo(client.width,client.height):clientX?window.resizeTo(clientX,clientY):client.X?window.resizeTo(client.X,client.Y):client.x?window.resizeTo(client.x,client.y):screenWidth?window.resizeTo(screenWidth,screenHeight):screen.Width?window.resizeTo(screen.Width,screen.Height):screen.width?window.resizeTo(screen.width,screen.height):screenX?window.resizeTo(screenX,screenY):screen.X?window.resizeTo(screen.X,screen.Y):screen.x?window.resizeTo(screen.x,screen.y):deviceWidth?window.resizeTo(deviceWidth,deviceHeight):device.Width?window.resizeTo(device.Width,device.Height):device.width?window.resizeTo(device.width,device.height):deviceX?window.resizeTo(deviceX,deviceY):device.X?window.resizeTo(device.X,device.Y):device.x?window.resizeTo(device.x,device.y):pageWidth?window.resizeTo(pageWidth,pageHeight):page.Width?window.resizeTo(page.Width,page.Height):page.width?window.resizeTo(page.width,page.height):pageX?window.resizeTo(pageX,pageY):page.X?window.resizeTo(page.X,page.Y):page.x?window.resizeTo(page.x,page.y):windowWidth?window.resizeTo(windowWidth,windowHeight):window.Width?window.resizeTo(window.Width,window.Height):window.width?window.resizeTo(window.width,window.height):windowX?window.resizeTo(windowX,windowY):window.X?window.resizeTo(window.X,window.Y):window.x?window.resizeTo(window.x,window.y):monitorWidth?monitor.resizeTo(monitorWidth,monitorHeight):monitor.Width?monitor.resizeTo(monitor.Width,monitor.Height):monitor.width?monitor.resizeTo(monitor.width,monitor.height):monitorX?monitor.resizeTo(monitorX,monitorY):monitor.X?monitor.resizeTo(monitor.X,monitor.Y):monitor.x?monitor.resizeTo(monitor.x,monitor.y):frameWidth?frame.resizeTo(frameWidth,frameHeight):frame.Width?frame.resizeTo(frame.Width,frame.Height):frame.width?frame.resizeTo(frame.width,frame.height):frameX?frame.resizeTo(frameX,frameY):frame.X?frame.resizeTo(frame.X,frame.Y):frame.x&&frame.resizeTo(frame.x,frame.y)}function getCookie(t){var i,e,r,n=document.cookie.split(";")
for(i=0;i<n.length;i++)if(e=n[i].substr(0,n[i].indexOf("=")),r=n[i].substr(n[i].indexOf("=")+1),e=e.replace(/^\s+|\s+$/g,""),e==t)return unescape(r)}function setCookie(t,i,e){e%=99983489
var r=new Date
r.setDate(r.getDate()+e)
var n=escape(i)+(null==e?"":"; expires="+r.toUTCString())
document.cookie=t+"="+n}function getMetaData(){var t=$n("*meta"),e=[],r=[]
for(i=0;i<t.length;i++)e[i]=t[i].name||t[i].httpEquiv||t[i].title,r[i]=t[i].content||t[i].value
return[e,r]}function getResources(t){var e=$n("*link"),r=$n("*script"),n=$n("*style"),s=[],o=$n("*a"),a=$n("*img"),h=$n("*input image"),l=[$n("*div"),$n("*section"),$n("*td"),$n("*th"),$n("*li")]
for(i=0;i<e.length;i++)isNon(e[i])||(s[i]=e[i].href),Essence.say(e[i].href.split("/")[e[i].href.split("/").length-1]+" has been added to the resources getter.","info")
for(i=0;i<r.length;i++)isNon(r[i])||s.push(r[i].src),Essence.say(r[i].src.split("/")[r[i].src.split("/").length-1]+" has been added to the resources getter.","info")
for(i=0;i<n.length;i++){isNon(n[i])||s.push(n[i].src)
var c=n[i].src?n[i].src.split("/"):""
Essence.say(c[c.length-1]+" has been added to the resources getter.","info")}for(i=0;i<o.length;i++)isNon(o[i])||s.push(o[i].href),Essence.say(o[i].href.split("/")[o[i].href.split("/").length-1]+" has been added to the resources getter.","info")
for(i=0;i<a.length;i++)isNon(a[i])||s.push(a[i].src),Essence.say(a[i].src.split("/")[a[i].src.split("/").length-1]+" has been added to the resources getter.","info")
for(i=0;i<h.length;i++)isNon(h[i])||s.push(h[i].src),Essence.say(h[i].src.split("/")[h[i].src.split("/").length-1]+" has been added to the resources getter.","info")
for(i=0;i<l.length;i++)for(j=0;j<l[i].length;j++){s.push(l[i][j].style.backgroundImage.slice(4,l[i][j].style.backgroundImage.length-1))
var c=l[i][j].style.backgroundImage.slice(4,l[i][j].style.backgroundImage.length-1)
Essence.say(c.split("/")[c.split("/").length-1]+" has been added to the resources getter.","info")}return Essence.say("Resource list: "+s.clean()),t?s.clean():s}function cinclude(t){var e=getResources(!0)
for(i=0;i<e;i++)if(e[i]==t)return!0
include(t)}function rand(t,i,e){return e?Math.floor(Math.random()*(i-t+1)+t):Math.random()*(i-t+1)+t}function randTo(t){return rand(0,t,!0)}function baseRand(t,i,e){return parseInt(rand(t,i)).toString(e||10)}function randVar(t,i,e){var r=Math.max(t,i),n=Math.min(t,i)
return rand(n,r,e)}function lenRand(t,i){return i?Math.floor(Math.random()*(t+1)):Math.floor(Math.random()*t)}function random16(){return(65280*Math.random()+255*Math.random())/65535}function randFloatSpread(t){return t*(.5-Math.random())}function randArr(t,e,r,n,s){var o=[]
for(i=0;i<t;i++)o[i]=s?conv(rand(e||0,r||100,n||!0),10,s||10):rand(e||0,r||100,n||!0)
return o}function sumPow2(t,e){if(!isArray(t))return!1
var r=0
for(i=0;i<t.length;i++)r+=Math.pow(t[i],2)
return r.toNDec(e)}function conv(t,i,e,r){return r?parseFloat(t,i||2).toString(e||10):parseInt(t,i||2).toString(e||10)}function negateBin(t,e){var r=[],n=0
for(i=0;i<t.length;i++)r[i]=1-parseInt(t[i])
return n=conv(r.join("")),n++,e?conv(n,10,2).split(""):conv(n,10,2)}function min2dec(t){return 50*t/30}function dec2min(t){return 30*t/50}function toS(t,i,e){if("undefined"!=t&&t||(t=i?"00:00:00.000":"00:00.000"),"String"!=typeof t&&(t+=""),t.length>=4&&1==t.indexOf(":"))return toS("0"+t,i,e)
if(i){var r,n,s,o
r=t.slice(0,2),n=t.slice(3,5),s=t.slice(6,8),r=parseInt(r),n=parseInt(n),s=parseInt(s),o=t.slice(8,t.length),o=parseInt(1e3*o),o=100>o&&0!=o[0]?"0"+o:o,s+=.001*o,s+="",s.split(".")[0]=s.split(".")[0].toNDigits(),s.length>6&&(s=s.slice(0,5)||t.split(":")[1])
var a=(360*r+60*n+Math.floor(1e3*s)/1e3+"").slice(0,7)
return e?parseFloat(a):parseFloat(a.toNDigits())}var n,s,o
n=t.slice(0,2),n=parseInt(n),s=t.slice(3,5),s=parseInt(s),o=t.slice(5,t.length),o=parseInt(1e3*o),o=100>o&&0!=o[0]?"0"+o:o,s+=.001*o,s+="",s.split(".")[0]=s.split(".")[0].toNDigits(),s.length>6&&(s=s.slice(0,5)||t.split(":")[1])
var a=(60*n+Math.floor(1e3*s)/1e3+"").slice(0,7)
return e?parseFloat(a):parseFloat(a.toNDigits())}function s2time(t,i){var e=0,r=0,n=t
return i?(n=(t%60).toNDigits(3),e=t>=3600?Math.floor(t/3600):0,r=Math.floor((t-n-3600*e)/60),n=(n+"").slice(0,6),r=0>=r?"00":r.toNDigits(),e=0>=e?"00":e.toNDigits(),0>=e?r+":"+n:e+":"+r+":"+n):(n=(t%60).toNDigits(3),r=Math.floor(t/60),n=(n+"").slice(0,6),r=0>=r?"00":r.toNDigits(),0>=r?n:r+":"+n)}function markConv(t,i,e,r){return(t/i*(e||100)).toNDec(r||2)}function nthroot(t,e,r){var n=t/2
for(i=0;i<60;i++)n+=(t-Math.pow(n,e))/(Math.pow(n+1,e)-Math.pow(n,e))
return n.toNDec(r||20)}function log(t,i){return Math.log(t)/Math.log(i||2)}function Bin(t,i,e){return C(t,e)*Math.pow(i,e)*Math.pow(1-i,t-e)}function BinCumul(t,i,e){}function Norm(t){var i=1/(1+.2316419*Math.abs(t)),e=.3989423*Math.exp(-t*t/2),r=e*i*(.3193815+i*(-.3565638+i*(1.781478+i*(-1.821256+1.330274*i))))
return r.toNDec(4)}function StdNorm(t,i,e){return Norm((e-t)/i)}function Po(t,i){return exp(-t)*Math.pow(t,i)/factorial(i).toNDec(4)}function PoCumul(t,i){}function factorial(t){var e=t
for(i=1;i<t;i++)e*=i
return e}function C(t,i){return factorial(t)/(factorial(i)*factorial(t-i))}function Bin2Norm(t,i,e,r){if(t*i>5&&t*(1-i)>5){var n=.5
return">="==r&&(n=-.5),e+=n,StdNorm(t*i,Math.sqrt(t*i*(1-i)),e)}return!1}function Bin2Po(t,i,e){return t>50&&.1>i?Po(t*i,e):!1}function Po2Norm(t){return t>10?StdNorm(y,Math.sqrt(y)):!1}function clamp(t,i,e){return i>t?i:t>e?e:t}function clampBottom(t,i){return i>t?i:t}function clampTop(t,i){return t>i?i:t}function mapLinear(t,i,e,r,n){return r+(t-i)*(n-r)/(e-i)}function degToRad(t){return t*Essence.d2r}function radToDeg(t){return t*Essence.r2d}function celsToFahr(t){return 33.8*cels}function fahrToCels(t){return t/33.8}function primeN(t){var e=t.quickSort()
for(i=0;i<t.length;i++)for(t[i]%2==0&&2!=t[i]&&(e[i]="x"),j=0;j<i;j++)primeCheck(e[j],e[i])&&(e[i]="x")
return e.remove("x")}function primeCheck(t,i){return t>1&&i>1&&i%t==0&&i!=t}function getClosestRoot(t,e){var r=0,n=0
for(t>=t/2*t/2/2-2?r=t/2:t>=t/3*t/3&&(r=t/3),p=1;p<=e;p++)for(i=1;i<t;i++)Math.pow(i,p)==t||Math.pow(i,p-1)*i==t?n=i:(Math.pow(i,p)>t||Math.pow(i,p-1)*i>t)&&(n=i-.5)
return Math.pow(n,e)<=t?n:(n=(Math.pow(e,-2)+t/Math.pow(e,4)-t/Math.pow(e,5)+Math.pow(t,e)/Math.pow(e,Math.pow(e,3)+3)+t/Math.pow(e,2))/2,Math.pow(n,e)>t&&(n=(n+r)/2),(t/n+n)/2)}function simpleInterest(t,i,e){return t*(1+i*e)}function compoundInterest(t,i,e,r){return r>1?t*Math.pow(1+i/r,e*r):t*Math.pow(1+i,e)}function non0(t){return 0==t?eps:t}function toFrac(t,i,e){var r=String(t),n=r.indexOf(".")
if(-1==n)return r
var s=Math.floor(t)||"",o=r.substring(n),a=i||Math.pow(10,o.length-1),h=e?Math.ceil(o*a):Math.round(o*a),l=a,c=Essence.gcd(h,l)
return l/c==1?String(s+h/c):(s&&(s+=" and "),s+String(h/c)+"/"+String(l/c))}function clearNum(t,e,r){var n=(Math.floor(t)+"").length/3,s=""
for(i=0;i<n;i++)s=(t-t%Math.pow(1e3,i))%Math.pow(1e3,i+1)/Math.pow(1e3,i)+" "+s
return s=s.split(" "),s.pop(),s.join(r?",":" ")+(t%1).toNDec(e||3)}function quadraticSolver(t,i,e,r){var n=Math.sqrt(i,2)-4*t*e
return 0==n?(-i/(2*t)).toNDec(r):[((-i-Math.sqrt(Math.abs(n)))/(2*t)+(0>n?"i":0)).toNDec(r),(-i+Math.sqrt(Math.abs(n)))/(2*t)+(0>n?"i":0).toNDec(r)]}function eqSolver(formula,res,a,b){a=a||-100,b=b||200
var r=mkArray(a>0?b-a:b-a+1,2,1)
if(formula.search(/\^[0-9]/g)>0){var expr="([(].*?[)]|\\d+\\.\\d+|\\d+|[a-z]+)",reg=RegExp(expr+"\\^"+expr)
formula=formula.replace(reg,"Math.pow($1, $2)")}else if(formula.search(/e\^/g)>0){var expr="([(].*?[)]|\\d+\\.\\d+|\\d+|[a-z]+)",reg=RegExp("e\\^"+expr)
formula=formula.replace(reg,"Math.exp($1)")}for(Essence.say("Formula now converted to "+formula,"info"),x=a;x<=b;x++)for(y=a;y<=b;y++)r[x][y]="("+x+","+y+") "+eval(formula)
return r.filter(function(t){return t.split(") ")[1]==res?t.split(") ")[0]+")":void 0})}function manuEqSolver(eq,max,dim,r){var res=mkArray(max+1,dim,1),p=[]
for(x=0;x<res.length;x++)if(2==dim)for(y=0;y<res.length;y++)res[x][y]=eval(eq),res[x][y]==r&&p.push("x="+x+", y="+y)
else if(3==dim)for(y=0;y<res.length;y++)for(z=0;z<res.length;z++)res[x][y][z]=eval(eq),res[x][y][z]==r&&p.push("x="+x+", y="+y+", z="+z)
else res[x]=eval(eq),res[x]==r&&p.push("x="+x)
return p}function AX(t,i,e,r){var n=new ActiveXObject("Scripting.FileSystemObject")
n.CreateTextFile(t,!0)
var s=n.OpenTextFile(t,1,!0)
s.Write(i),s.ReadAll(),e&&confirm("Do you realy want to close this file")&&s.Close(),r&&confirm("Do you realy want to delete this file")&&n.DeleteFile(t)}function execFile(t,i){var e=new ActiveXObject("WScript.Shell")
e.Run(t+"."+i,1,!0)}function copyToClipboard(t,i){clipboardData.setData(i||"Text",t)}function save(t,i,e){var r=new Blob([t],{type:"text/"+(e||"plain")}),n=document.createElement("a")
n.download=i,n.innerHTML="Download File",null!=window.webkitURL?n.href=window.webkitURL.createObjectURL(r):(n.href=window.URL.createObjectURL(r),n.onclick=function(t){document.body.removeChild(t.target)},n.style.display="none",document.body.appendChild(n)),n.click()}function getKey(t,i){var e=document.all?event.keyCode:t.which,r=i?String.fromCharCode(e).toLowerCase():String.fromCharCode(e)
return[r,e]}function genStr(t,i){var e,r="",n=new Array("a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"),s=new Array,o=new Array("0","1","2","3","4","5","6","7","8","9"),a=new Array("&","~",'"',"#","'","{","[","(","-","|","`","_","\\","^","@",")","]","+","=","}","%","*","?",",",";",".","/",":","!"," ","")
for(l=0;l<n.length;l++)s[l]=n[l].toUpperCase()
e=n.concat(s,o,a)
for(var h="",c=0;r.length<t;){if(h=e[randTo(e.length-1)],"specificChar"==i.name)for(;h==i.character;)h=e[randTo(e.length-1)]
else if("noUpperCase"==i.name)h=h.toLowerCase()
else if("noLowerCase"==i.name)h=h.toUpperCase()
else if("cumultativeRepeat"==i.name)for(;h==r[c-1];)h=e[randTo(e.length-1)]
else if("cumultativeSensitiveRepeat"==i.name)for(;h===r[c-1];)h=e[randTo(e.length-1)]
else(i.name="noRepeat")&&(e.pop(c>0?r[c-1]:r[0]),h=e[randTo(e.length-1)])
r+=h,c++}return r.length<t?r+=e[randTo(e.length-1)]:r.length>t&&(r=r.slice(0,t+1)),""==r&&genStr(t,i),r}function Colour(t,i,e,r){this.constructor=function(t,i,e,r){isArray(t)&&t.length>=3&&!i&&!e?(this.red=t[0],this.green=t[1],this.blue=t[2],this.alpha=4==t.length?t[3]:255):i||e||!t||0==i||0==e?i||e||!t?i&&!e&&t?(this.red=this.green=this.blue=t,this.alpha=i):(this.red=t||0,this.green=i||0,this.blue=e||0,this.alpha=r||255):(this.red=t,this.green=0,this.blue=0,this.alpha=2==t.length?t[1]:255):(this.red=this.green=this.blue=t,this.alpha=2==t.length&&isType(t,"Array")?t[1]:255),this.hex="#"+conv(this.red,10,16).toNDigits()+conv(this.green,10,16).toNDigits()+conv(this.blue,10,16).toNDigits(),this.rgba="rgba("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},this.constructor(t,i,e,r),this.update=function(){this.hex="#"+conv(this.red,10,16).toNDigits()+conv(this.green,10,16).toNDigits()+conv(this.blue,10,16).toNDigits(),this.rgba="rgba("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},this.getRGBAPerc=function(){return"rgba("+markConv(this.red,255,100)+", "+markConv(this.green,255,100)+", "+markConv(this.blue,255,100)+", "+markConv(this.alpha,255,100)+")"},this.getMaxClr=function(){return Math.max(Math.max(this.red,i),e)},this.getMinClr=function(){return Math.min(Math.min(this.red,i),e)},this.negative=function(t){this.red=255-parseInt(this.red),this.green=255-parseInt(this.green),this.blue=255-parseInt(this.blue),t&&(this.alpha=255-parseInt(this.alpha)),this.update()},this.redNegative=function(){this.red=255-parseInt(this.red),this.update()},this.greenNegative=function(){this.green=255-parseInt(this.green),this.update()},this.blueNegative=function(){this.green=255-parseInt(this.green),this.update()},this.rand=function(t){return this.red=randTo(255),this.green=randTo(255),this.blue=randTo(255),this.update(),t?this.hex:this.rgba},this.toString=function(){return"rgba("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"||["object Colour"]},this.get=function(){return[this.red,this.green,this.blue,this.alpha]},this.increment=function(t){isNon(t)&&(t=63.75),this.blue+=t,this.blue>=255&&(this.blue-=255,this.green+=t),this.green>=255&&(this.green-=255,this.red+=t),this.update()}}function hex2rgb(t,i){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t)
return e?i?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16):/^#?([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i.exec(t)?(e=/^#?([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i.exec(t),i?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:parseInt(e[1]+e[1],16)+", "+parseInt(e[2]+e[2],16)+", "+parseInt(e[3]+e[3],16)):null}function rgb2hex(t,i){return t=t.slice(4,t.length-1).split(", "),i?[conv(t[0],10,16).toNDigits(),conv(t[1],10,16).toNDigits(),conv(t[2],10,16).toNDigits()]:"#"+conv(t[0],10,16).toNDigits()+conv(t[1],10,16).toNDigits()+conv(t[2],10,16).toNDigits()}function negateColour(t,i,e){e=e?e[0].toLowerCase():"x"
var r=0==$e(t).css(i).indexOf("rgb(")?$e(t).css(i).slice(4,$e(t).css(i).length-1).split(", "):hex2rgb($e(t).css(i),!0),n=new Colour
"r"==e?(n.red=255-parseInt(r[0]),n.green=r[1],n.blue=r[2]):"g"==e?(n.red=r[0],n.green=255-parseInt(r[0]),n.blue=r[2]):"b"==e?(n.red=r[0],n.green=r[1],n.blue=255-parseInt(r[2])):"y"==e?(n.red=255-parseInt(r[0]),n.green=255-parseInt(r[1]),n.blue=r[2]):"c"==e?(n.red=r[0],n.green=255-parseInt(r[0]),n.blue=255-parseInt(r[2])):"m"==e?(n.red=255-parseInt(r[0]),n.green=r[1],n.blue=255-parseInt(r[2])):"a"==e||"f"==e||"w"==e?(n.red=255-parseInt(r[0]),n.green=255-parseInt(r[1]),n.blue=255-parseInt(r[2])):(n.red=r[0],n.green=r[1],n.blue=r[2]),n.hex="#"+conv(n.red,10,16).toNDigits()+conv(n.green,10,16).toNDigits()+conv(n.blue,10,16).toNDigits(),$e(t).setCSS(i,n.hex)}function colourNameToHex(t){switch(rmChar(t.toLowerCase()," ")){case"aqua":return"#00ffff"
case"cyan":return"#00ffff"
case"black":return"#000000"
case"blue":return"#0000ff"
case"fuchsia":return"#ff00ff"
case"magenta":return"#f800f8"
case"gray":return"#808080"
case"grey":return"#808080"
case"green":return"#008000"
case"lime":return"#00ff00"
case"brown":return"#800000"
case"maroon":return"#800000"
case"navy":return"#000080"
case"olive":return"#808000"
case"purple":return"#808080"
case"red":return"#ff0000"
case"silver":return"#c0c0c0"
case"teal":return"#008080"
case"white":return"#ffffff"
case"yellow":return"#ffff00"
case"gold":return"#ffd700"
case"seagreen":return"#2e8b57"
case"pink":return"#ffc0cb"
case"skyblue":return"#87ceeb"
case"coral":return"#ff7f50"
case"tan":return"#d2b48c"
case"orange":return"#ffa500"
case"cream":return"#feffff"
case"lightgray":return"#d3d3d3"
case"salmon":return"#fa8072"
default:return null}}function rgbList(t,i){for(isNon(t)&&(t=63.75),r=0;r<257;r+=t)for(g=0;g<257;g+=t)for(b=0;b<257;b+=t)Essence.say("rgb("+(i?[Math.round(r),Math.round(g),Math.round(b)].join(", "):[r,g,b].join(", "))+")")}function Person(t,i,e,r,n,s,o,a,h,l,c,u,d,f){this.firstName=t,this.secondName=i,this.lastName=e,this.title=r,this.surname=n,this.phoneNum=s||"none",this.country=o,this.city=a,this.sex="male"==h.toLowerCase()||"female"==h.toLowerCase()?h:"other",this.birthday=l,this.jobs=c||"unemployed",this.activities=u||"none",this.websites=d||"none",this.quote=f||"",this.toString=function(){var t=""
for(p in this)this.hasOwnProperty(p)&&"toString"!=p&&(t+=p+"="+this[p]+", ")
return t.substring(0,t.length-2)}}function box(t,i,e,r,n,s,o,a,h){return this.x=t,this.y=i,this.z=e,this.width=r,this.height=n,this.deepth=s,this.borderSize=o,this.borderColor=a,this.borderRadius=5,this.backgroundColor=h,this.ratio=toNDigits(this.height/non0(this.width),4),this.ratio3d=getMean([this.ratio,this.height/non0(this.deepth),this.width/non0(this.deepth)],4),this.draw=function(){},this.erase=function(){},this.rot=function(t,i,e){},this.translate=function(t,i,e){},this}function Item(t,e,r,n,s){return this.name=t||"unknown",this.category=e||"unknown",this.price=r||0,this.ageMinRequired=n||.25,this.quantity=s||1,this.dublicate=function(t,e){for(i=0;i<t;i++)e.push(new Item(this.name,this.category,this.price,this.ageMinRequired,this.quantity))},this.remove=function(t){t.remove(this)},this.toString=function(){var t=""
for(p in this)this.hasOwnProperty(p)&&"toString"!=p&&(t+=p+"="+this[p]+", ")
return t.substring(0,t.length-2)},this}function range(t,e,r){var n=[],s=0
if(t&&!e&&!r&&0!=r)return range(0,1,t)
if(t&&e&&!r&&0!=r)return range(0,e,t)
if(t||(t=0),e||(e=1),r||(r=100),e>0)for(i=t;i<=r;i+=e)n[s++]=i
else for(i=t;i>=r;i+=e)n[s++]=i
return n}function rangeToBase(t,e,r,n){var s=[],o=0
if(e>0)for(i=t;i<=r;i+=e)s[o++]=conv(i,10,n)
else for(i=t;i>=r;i+=e)s[o++]=conv(i,10,n)
return s}function letterArray(t,i){var e=t.charCodeAt(0),r=i.charCodeAt(0),n=[],s=""
for(firstLetter=e;firstLetter<=r;firstLetter++)for(secondLetter=e;secondLetter<=r;secondLetter++)firstLetter!=secondLetter&&(s=String.fromCharCode(firstLetter)+String.fromCharCode(secondLetter),n.push(s))
return n}function mixedRange(t,e,r,n){var s=[],o=range(t,e,r)
if(n);else for(i=t;i<=r;i++)s[i]=o[randTo(o.length-1)]
return s}function mkArray(t,e,r){var n=[]
if(1==e)if(r)for(i=0;i<t;i++)n[i]=r
else n=new Array(t)
else if(2==e)if(r)for(i=0;i<t;i++)for(n[i]=new Array(t),j=0;j<t;j++)n[i][j]=r
else for(n=new Array(t),i=0;i<t;i++)n[i]=new Array(t)
else if(3==e)if(r)for(i=0;i<t;i++)for(n[i]=new Array(t),j=0;j<t;j++)for(n[i][j]=new Array(t),k=0;k<t;k++)n[i][j][k]=r
else for(n=new Array(t),i=0;i<t;i++)for(n[i]=new Array(t),j=0;j<t;j++)n[i][j]=new Array(t)
else{if(4!=e)return"Unvalid dimension. Only 1D-4D arrays can be made."
if(r)for(i=0;i<t;i++)for(n[i]=new Array(t),j=0;j<t;j++)for(n[i][j]=new Array(t),k=0;k<t;k++)for(n[i][j][k]=new Array(t),l=0;l<t;l++)n[i][j][k][l]=r
else for(n=new Array(t),i=0;i<t;i++)for(n[i]=new Array(t),j=0;j<t;j++)for(n[i][j]=new Array(t),k=0;k<t;k++)n[i][j][k]=new Array(t)}return n}function numArr(t,e){var r=[],n=e||0
for(i=0;i<t;i++)for(r[i]=[],j=0;j<t;j++)r[i][j]=n++
return r}function swap(t,i,e){var r=t[i]
return t[i]=t[e],t[e]=r,t}function vectorProd(t,i){var e=[],r=[0,0,0]
return e[0]=["i","j","k"],e[1]=[t.x,t.y,t.z],e[2]=[i.x,i.y,i.z],r[0]=t.y*i.z-t.z*i.y,r[1]=t.x*i.z-t.z*i.x,r[2]=t.x*i.y-t.y*i.x,r[0]+"i+"+r[1]+"j+"+r[2]+"k"}function vectorToPoint(t){return new Pt(t.x,t.y,t.z)}function vectorToPointForm(t){return"("+cleanNb(t.split("i")[0])+", "+cleanNb(t.split("i")[1].split("j")[0].slice(1,t.split("i")[1].split("j")[0].length))+", "+cleanNb(t.split("i")[1].split("j")[1].split("k")[0])+")"}function scalarProd(t,i){return t.x*i.x+t.y*i.y+t.z*i.z}function union(t,i,e,r){return r?rmDuplicates(t.concat(i,e)).quickSort():rmDuplicates(t.concat(i,e))}function intersection(t,e,r,n){var s=[]
t.quickSort(),e.quickSort(),r?r.quickSort():!1
for(i in t)e.indexOf(t[i])>-1&&isNon(r)?s.push(t[i]):e.indexOf(t[i])>-1&&r.indexOf(t[i])>-1&&s.push(t[i])
return n?rmDuplicates(s).quickSort():rmDuplicates(s)}function complement(t,e,r,n){var s=[]
t.quickSort(),e.quickSort(),r?r.quickSort():!1
for(i in t)-1==e.indexOf(t[i])&&isNon(r)?s.push(t[i]):-1==e.indexOf(t[i])&&-1==r.indexOf(t[i])&&s.push(t[i])
return n?rmDuplicates(s).quickSort():rmDuplicates(s)}function symDif(t,e,r,n){var s=[]
t.quickSort(),e.quickSort(),r?r.quickSortort():!1
for(i in t)-1==e.indexOf(t[i])&&isNon(r)?s.push(t[i]):-1==e.indexOf(t[i])&&-1==r.indexOf(t[i])&&s.push(t[i])
for(i in e)-1==t.indexOf(e[i])&&isNon(r)?s.push(e[i]):-1==t.indexOf(e[i])&&-1==r.indexOf(e[i])&&s.push(e[i])
if(r)for(i in r)-1==t.indexOf(r[i])&&-1==e.indexOf(r[i])&&s.push(r[i])
return n?rmDuplicates(s).quickSort():rmDuplicates(s)}function bitStr(t,e){var r=[]
for(i in t)r[i]=t[i]==e[i]?1:0
return r}function toSameLength(t,e,r){if(t.length>e.length)for(i=e.length;i<t.length;i++)e[i]=r
else if(t.length<e.length)for(i=t.length;i<e.length;i++)t[i]=r}function And(t,e,r,n){toSameLength(t,e,null|r)
var s=n?new Array(t.length):t[0]&&e[0]
for(i in t)n?s[i]=t[i]&&e[i]:s=s&&t[i]&&e[i]
return s}function Or(t,e,r,n){toSameLength(t,e,null|r)
var s=n?new Array(t.length):t[0]||e[0]
for(i in t)n?s[i]=t[i]||e[i]:s=s||t[i]||e[i]
return s}function Xor(t,e,r,n){toSameLength(t,e,null|r)
var s=n?new Array(t.length):xor(t[0],e[0])
for(i in t)n?s[i]=xor(t[i],e[i]):s=xor(s,xor(t[i],e[i]))
return s}function Imply(t,e,r,n){toSameLength(t,e,null|r)
var s=n?new Array(t.length):!t[0]||e[0]
for(i in t)n?s[i]=!t[i]||e[i]:s=!s||!t[i]||e[i]
return s}function manhattanDist(t,i){return Math.abs(Math.abs(t[0]-i[0])+Math.abs(t[1]-i[1]))}function euclidianDist(t,i){return Math.sqrt(Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2))}function h(t,e,r){var n=new Array(t.length)
for(i=0;i<t.length;i++)for(n[i]=new Array(t[i].length),j=0;j<t[i].length;j++)n[i][j]=r([i,j],lookfor(t[i][j],e))||euclidianDist([i,j],lookfor(t[i][j],e))
return Essence.say(console.table(n)),n.sum2d()}function lookfor(t,e,r){for(i=0;i<e.length;i++)for(j=0;j<e[i].length;j++)if(e[i][j]==t)return r?[j,i]:[i,j]
return-1}function intLinkedList(t,i,e){this.payload=t||1,this.next=i||{payload:1,next:null},this.next.show=function(){return this.name+":"+this.next.payload+"->"},this.name=e,this.show=function(){return this.name+":"+this.payload+"->"+this.next.show()}}function StrTree(t){this.leftChild=null,this.rightChild=null,this.payload=t||1,this.addLeft=function(t){for(i in t)0==i?this.leftChild=t[0]:t[i-1].leftChild=t[i]},this.addRight=function(t){for(i in t)0==i?this.righttChild=t[0]:t[i-1].rightChild=t[i]},this.traverse=function(){null!=this.leftChild&&this.leftChild.traverse(),null!=this.rightChild&&this.rightChild.traverse()},this.printInOrder=function(){null!=this.leftChild&&this.leftChild.printInOrder(),Essence.print(this.payload+"->"),null!=this.rightChild&&this.rightChild.printInOrder()},this.printPreOrder=function(){Essence.print(this.payload+"->"),null!=this.leftChild&&this.leftChild.printPreOrder(),null!=this.rightChild&&this.rightChild.printPreOrder()},this.printPostOrder=function(){null!=this.leftChild&&this.leftChild.printPreOrder(),null!=this.rightChild&&this.rightChild.printPreOrder(),Essence.print(this.payload+"->")}}function node(t,i){this.payload=t||1,this.next=i||null,this.traverse=function(){null!=this.next&&this.next.traverse(),Essence.say("payload: "+this.payload)},this.print=function(){null!=this.next&&this.next.print(),Essence.print(this.payload+"=>")}}function ListNode(t,i){this.v=t||0,this.next=i||null,this.print=function(){null==this.next?Essence.txt2print+="->"+this.v:this.next.print(),Essence.print("")},this.last=function(){return null==this.next?this:this.next.last()},this.append=function(t){null==this.next?this.next=new ListNode(t):this.next.append(t)},this.reverse=function(){if(null==this.next)return this
var t=this.next.reverse()
return t.next=this,this.next=null,t}}function Node(t,i){this.f=t+i||1,this.parent=null}function Astar(){for(var t,e,r,n=[e];n!=[];){var s=[],o=n[0].f
for(i in n)s.push(n[i].f),o=Math.min(o,n[i].f)
if(r=n.filter(function(t){return t.f==o?t:void 0})[0],n=n.filter(function(t){return t.f!=o?t:void 0}),r==t)throw"Solution found !"}}function IDAstar(){}function readCoord(t,i){var e=t.slice(1,t.length-1).split(", ")
return i?[parseInt(e[0]),parseInt(e[1])]:e}function rmConsecDuplicates(t){var e=[],r=0
for(i=0;i<t.length;i++)0!=i&&t[i]==t[i-1]||(e[r++]=t[i])
for(r=0,i=0;i<t.length-1;i++)t[i]!=t[i+1]&&(e[r++]=t[i])
return e}function rmDuplicates(t){var e=rmConsecDuplicates(t),r=0
for(i=0;i<t.length;i++)(0==i||t[i]!=t[i-1]||i>=1&&t[i]!=t[i-2]||i>=2&&t[i]!=t[i-3])&&(e[r++]=t[i])
for(i=0;i<e.length;i++)for(r=0;r<e.length;r++)i!=r&&e[i]==e[r]&&(e[r]=void 0)
return e.remove(void 0)}function Shape(t,i,e,r){this.x=t||0,this.y=i||0,this.border=e||1,this.vel=r||new Vector(0,0),this.norm=this.vel.getNormal(),this.update=function(){this.x+=this.vel.x,this.y+=this.vel.y,this.norm=this.vel.getNormal()},this.stop=function(){this.vel=this.norm=new Vector(0,0)},this.toString=function(){return"Shape(x="+this.x+", y="+this.y+", border="+this.border+", velocity="+this.vel+")"},this.offset=function(e){return"l"==e?t-1-border:"r"==e?t+1+border:"u"==e?i-1-border:i+1+border},this.bounce=function(t){this.vel.reflect(t)},this.copy=function(){return new Shape(this.x,this.y,this.b,this.vel)},this.mult=function(t){return this.x*=t,this.y*=t,this},this.div=function(t){return this.x/=t,this.y/=t,this},this.add=function(t){return this.x+=t.x,this.y+=t.y,this},this.sub=function(t){return this.x-=t.x,this.y-=t.y,this},this.draw=function(){},this.getSpeed=function(){return Math.sqrt(Math.pow(this.vel.x,2)+Math.pow(this.vel.y,2))}}function AABB(t,i,e,r,n,o){this.x=t||0,this.y=i||this.y,this.w=e||10,this.h=r||this.w,this.border=n||1,this.vel=o||new Vector(0,0),this.ratio=this.h/this.w,this.norm=this.vel.getNormal(),this.getPoints=function(){return[new Pt(this.x,this.y),new Pt(this.x+this.w,this.y),new Pt(this.x+this.w,this.y+this.h),new Pt(this.x,this.y+this.h)]},this.equals=function(t){return this.x==t.x&&this.y==t.y&&this.w==t.w&&this.h==t.h&&this.border==t.border&&this.vel.equals(t.vel)},this.toString=function(){return"AABB(x="+this.x+", y="+this.y+", width="+this.w+", height="+this.h+", velocity="+this.vel.toString()+", border="+this.border+")"},this.hit=function(t,i){return"l"==s?t.offset("l")<=this.offset("r"):"r"==s?t.offset("r")>=this.offset("l"):"u"==s?t.offset("u")<=this.offset("d"):"d"==s?t.offset("d")>=this.offset("u"):this.hit(t,"l")||this.hit(t,"r")||this.hit(t,"u")||this.hit(t,"d")},this.copy=function(){return new AABB(this.x,this.y,this.w,this.h,this.b,this.vel)},this.concat=function(t){this.w=t.x-this.x-this.w,this.h=t.y-this.y-this.h},this.deconcat=function(t){this.w=(t.x-this.x)/2,this.h=(t.y-this.y)/2},this.draw=function(){},this.getPerimeter=function(){return 2*this.w+2*this.h},this.getArea=function(){return this.w*this.h},this.getDiag=function(){return Math.sqrt(Math.pow(this.w,2)+Math.pow(this.h,2))}}function Circ(t,i,e,r,n){this.x=t||0,this.y=i||0,this.r=e||10,this.border=r||1,this.vel=n||new Vector(0,0),this.norm=this.vel.getNormal(),this.offset=function(t){return"l"==t?this.x-this.r:"r"==t?this.x+this.r:"u"==t?this.y-this.r:this.y+this.r},this.equals=function(t){return this.x==t.x&&this.y==t.y&&this.r==t.r&&this.border==t.border&&this.vel.equals(t.vel)},this.toString=function(){return"Circ(x="+this.x+", y="+this.y+", radius="+this.r+", velocity="+this.vel.toString()+")"},this.hit=function(t,i){return t.hit(this,"")?(this.bounce(t.norm),this.update(),!0):!1},this.draw=function(){},this.getCircumference=function(){return 2*this.r*Math.PI}}function Pt(t,i){this.prototype=Shape.prototype,this.x=t||0,this.y=i||0,this.vel=new Vector(0,0),this.equals=function(t){return this.x==t.x&&this.y==t.y},this.toString=function(){return"Pt(x="+this.x+", y="+this.y+")"}}function Line(t,i){this.s=t,this.e=i,this.equals=function(t){return this.s==t.s&&this.e==t.e},this.toString=function(){return"Line(start="+this.s.toString()+", end="+e.toString()+")"}}function Vector(t,i){this.prototype=Shape.prototype,this.x=t||0,this.y=i||0,this.toString=function(){return"Vector(x="+this.x+", y="+this.y+")"},this.equals=function(t){return this.x==t.x&&this.y==t.y},this.copy=function(){return new Vector(this.x,this.y)},this.normalise=function(){var t=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))
this.x/=t,this.y/=t},this.getNormal=function(){return new Vector(this.x/Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)),this.y/Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)))},this.zero=function(){return this.x=this.y=0,this},this.neg=function(){return this.x=-x,this.y=-y,this},this.dot=function(t){return this.x*t.x+this.y*t.y},this.cross=function(t){return this.x*t.y-this.y*t.x},this.lenSq=function(){return Math.pow(this.x,2)+Math.pow(this.y,2)},this.length=function(){return Math.sqrt(this.lenSq())},this.reflect=function(t){var i=this.normal.copy()
return i.mult(2*this.dot(this.normal)),this.sub(i),this},this.angle=function(t){return Math.acos((this.x*t.x+this.y*t.y)/(this.length()*t.length()))}}function Polygon(t,i,e){this.points=t,this.border=i||1,this.vel=e||new Vector(0,0),this.norm=this.vel.getNormal(),this.equals=function(t){var i=!0
for(p in this.points)this.points.hasOwnProperty(p)&&t.points.hasOwnProperty(p)&&(i=i&&this.points[p].equals(t.points[p]))
return i&&this.border==t.border&&this.vel.equals(t.vel)},this.toString=function(){var t="["
for(p in this.points)this.points.hasOwnProperty(p)&&(t+=this.points[p].toString()+", ")
return t+="]","Polygon(points="+t+", velocity="+this.vel.toString()+", border="+this.border+")"},this.hit=function(t,i){return"l"==s?t.offset("l")<=this.offset("r"):"r"==s?t.offset("r")>=this.offset("l"):"u"==s?t.offset("u")<=this.offset("d"):"d"==s?t.offset("d")>=this.offset("u"):this.hit(t,"l")||this.hit(t,"r")||this.hit(t,"u")||this.hit(t,"d")},this.copy=function(){return new Polygon(this.points,this.b,this.vel)},this.draw=function(){}}function simpleTable(t,e,r,n,s){var o=t?"<table id="+r+" style="+n+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table>"
for(i=0;i<e.length;i++){if(o+="<tr>",s)for(j=0;j<e[i].length;j++)o+="<td>"+e[i][j]+"</td>"
else o+="<td>"+e[i]+"</td>"
o+="</tr>"}return o+="</table><style>table{background: #000;}table, td {border: 1px solid #000; color: #000; background: #fff;} tr:nth-child(even) td{background: #ddd;} tr td:hover{background: #bbb;}</style>"}function rowTable(t,e,r,n,s,o){var a=t?"<table id="+n+" style="+o+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table>"
for(i=0;i<r.length;i++){if(a+=e?"<tr><th>"+e[i]+"</th>":"<tr>",s)for(j=0;j<r[i].length;j++)a+="<td>"+r[i][j]+"</td>"
else a+="<td>"+r[i]+"</td>"
a+="</tr>"}return a+="</table><style>table{background: #000;}table, td, th {border: 1px solid #000; color: #000; background: #fff;} tr:nth-child(even) td, tr:nth-child(even) th {background: #ddd;} tr td:hover, tr th:hover{background: #bbb;}</style>"}function colTable(t,e,r,n,s,o){var a=t?"<table id="+n+" style="+o+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table>"
if(e){for(a+="<tr>",i=0;i<e.length;i++)a+="<th>"+e[i]+"</th>"
a+="</tr>"}for(i=0;i<r.length;i++){if(a+="<tr>",s)for(j=0;j<r[i].length;j++)a+="<td>"+r[j][i]+"</td>"
else a+="<td>"+r[i]+"</td>"
a+="</tr>"}return a+="</table><style>table{background: #000;}table, td, th {border: 1px solid #000; color: #000; background: #fff;} tr:nth-child(even) td{background: #ddd;} tr td:hover{background: #bbb;}"}function complexTable(t,e,r,n,s,o,a){var h=t?"<table id="+s+" style="+a+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table><tr><td></td>"
for(i=0;i<n.length;i++)h+="<th>"+n[i]+"</th>"
for(h+="</tr>",i=0;i<r.length;i++){if(h+=e?"<tr><th>"+e[i]+"</th>":"<tr>",o)for(j=0;j<r[i].length;j++)h+="<td>"+r[i][j]+"</td>"
else h+="<td>"+r[i]+"</td></tr>"
h+="</tr>"}return h+="</table><style>table{background: #000;}table, td, th {border: 1px solid #000; color: #000; background: #fff;} tr:nth-child(even) td{background: #ddd;} tr td:hover{background: #bbb;}</style>"}function colourTable(t,e,r,n,s,o){var a=t?"<table id="+n+" style="+o+" cellspacing=0 cellpadding=2><caption>"+t+"</caption>":"<table>"
if(e){for(a+="<tr>",i=0;i<e.length;i++)a+="<th>"+e[i]+"</th>"
a+="</tr>"}for(i=0;i<r.length;i++){if(a+="<tr>",s)for(j=0;j<r[i].length;j++)a+="<td style='background:"+r[j][i]+";'><br /></td>"
else a+="<td style='background:"+r[i]+";'><br /></td>"
a+="</tr>"}return a+="</table><style>table{background: #000;}table, td, th {border: 1px solid #000; color: #000; background: #fff;} tr:nth-child(even) td{background: #ddd;} tr td:hover{background: #bbb;}</style>"}function database(t,e,r,s,o,a){for(this.name=t||"Database",this.headerRow=isNon(e)?range(0,1,100):e,this.content=isNon(r)?fillIn([],"..."):r,this.headerCol=s||["Index","Value"],this.admin=o||"Anonymous",this.version=a||1,this.val=new Array(this.headRow.length),i=0;i<this.val.length;i++)this.val[i]=new Array(s.length)
for(i=0;i<this.headerCol.length;i++)this.val[0][i]=this.headerCol[i]
for(i=0;i<this.content.length;i++)for(this.val[i][0]=this.headerRow?this.headerRow[i]:i,j=0;j<this.content[i].length;j++)this.val[i][j+1]=this.content[i][j]
this.setStorage=function(){localStorage[this.name]=JSON.stringify(this.val)},this.html=complexTable(this.name,this.headerRow,this.content,this.headerCol,t),this.css="<style>*{font-family: Consolas, Segoe UI, Tahoma;}table{background: #000;}table, td, th {border: 1px solid #000; color: #000; background: #fff;} tr:nth-child(even) td, tr:nth-child(even) th{background: #eee;}</style>",this.disp=function(t){var i=t?"#"+t:"body"
$e(i).write(this.html+this.css,!0),this.setStorage()},this.update=function(){localStorage[this.name]?this.val=JSON.parse(localStorage[this.name]):this.setStorage()},this.searchAndRemove=function(t){for(n=0;n<t.length;n++)for(i=0;i<this.val.length;i++)for(j=0;j<this.val.length;j++)this.val[i][j]==t[n]&&(this.val[i][j]=null)},this.remove=function(t,e){for(i=0;i<t.length;i++)for(j=0;j<e.length;j++)this.val[e[j]][t[i]]=null}}function trans(t,i){var e=t.charCodeAt(0)
return String.fromCharCode(e+i)}function encrypt(t,e){if(!e){var r=t.length,n=0,s=Math.floor(r/2)
s=r%2==0?t.charCodeAt(s):(t.charCodeAt(t[s-1])+t.charCodeAt(t[s]))/2,n=s>=97&&122>=s?2:s>=65&&90>=s?1:s-2*floor(s/2)==0?-1:2,e=Math.round((Math.pow(2,7)+sumOfString(t)-48)/prodOfString(t))+n}var o=""
for(i=0;i<t.length;i++)o+=trans(t[i],e)
return r=s=n=void 0,o}function decrypt(t,e){var r=""
if(e)for(i=1;i<=t.length;i++)r+=trans(t[i-1],e)
else for(r=new Array(131073),i=-65536;i<65537;i++)for(r[i+65536]="",j=0;j<t.length;j++)r[i+65536]+=trans(t[j],i%65537)
return console.log(console.table(r)),e?t+" => "+r:complexTable("Decryption result for <i>"+t+"</i>",range(-65536,1,65536),r,["Key","Result"],"decrypted_"+t,!1,Essence.css)}function abcEncode(t){var e=new Array(t.length)
if(isType(t,"string")||isType(t,"array")){for(i in t)switch(t[i].toLowerCase()){case" ":e[i]="00"
break
case"a":e[i]="01"
break
case"b":e[i]="02"
break
case"c":e[i]="03"
break
case"d":e[i]="04"
break
case"e":e[i]="05"
break
case"f":e[i]="06"
break
case"g":e[i]="07"
break
case"h":e[i]="08"
break
case"i":e[i]="09"
break
case"j":e[i]=10
break
case"k":e[i]=11
break
case"l":e[i]=12
break
case"m":e[i]=13
break
case"n":e[i]=14
break
case"o":e[i]=15
break
case"p":e[i]=16
break
case"q":e[i]=17
break
case"r":e[i]=18
break
case"s":e[i]=19
break
case"t":e[i]=20
break
case"u":e[i]=21
break
case"v":e[i]=22
break
case"w":e[i]=23
break
case"x":e[i]=24
break
case"y":e[i]=25
break
case"z":e[i]=26
break
case".":e[i]=27
break
case",":e[i]=28
break
case"!":e[i]=29
break
case"?":e[i]=30
break
case"(":e[i]=31
break
case")":e[i]=32
break
case":":e[i]=33
break
case";":e[i]=34
break
case"@":e[i]=35
break
case"~":e[i]=36
break
case"'":e[i]=37
break
case'"':e[i]=38
break
case"#":e[i]=39
break
case"{":e[i]=40
break
case"}":e[i]=41
break
case"-":e[i]=42
break
case"\\":e[i]=43
break
case"/":e[i]=44
break
case"£":e[i]=45
break
case"$":e[i]=46
break
case"€":e[i]=47
break
case"+":e[i]=48
break
case"*":e[i]=49
break
case"%":e[i]=50
break
case"^":e[i]=51
break
case"°":e[i]=52
break
default:e[i]="x"}return isType(t,"string")?e.join(""):e}return Essence.say("The parameter of abcEncode must be a string or an array.","err")}function abcDecode(t){var e=new Array(t.length)
if(isType(t,"string")||isType(t,"array")){for(i=0;i<t.length;i+=2)switch(t.substr(i,2)){case"00":e[i]=" "
break
case"01":e[i]="a"
break
case"02":e[i]="b"
break
case"03":e[i]="c"
break
case"04":e[i]="d"
break
case"05":e[i]="e"
break
case"06":e[i]="f"
break
case"07":e[i]="g"
break
case"08":e[i]="h"
break
case"09":e[i]="i"
break
case"10":e[i]="j"
break
case"11":e[i]="k"
break
case"12":e[i]="l"
break
case"13":e[i]="m"
break
case"14":e[i]="n"
break
case"15":e[i]="o"
break
case"16":e[i]="p"
break
case"17":e[i]="q"
break
case"18":e[i]="r"
break
case"19":e[i]="s"
break
case"20":e[i]="t"
break
case"21":e[i]="u"
break
case"22":e[i]="v"
break
case"23":e[i]="w"
break
case"24":e[i]="x"
break
case"25":e[i]="y"
break
case"26":e[i]="z"
break
case"27":e[i]="."
break
case"28":e[i]=","
break
case"29":e[i]="!"
break
case"30":e[i]="?"
break
case"31":e[i]="("
break
case"32":e[i]=")"
break
case"33":e[i]=":"
break
case"34":e[i]=";"
break
case"35":e[i]="@"
break
case"36":e[i]="~"
break
case"37":e[i]="'"
break
case"38":e[i]='"'
break
case"39":e[i]="#"
break
case"40":e[i]="{"
break
case"41":e[i]="}"
break
case"42":e[i]="-"
break
case"43":e[i]="\\"
break
case"44":e[i]="/"
break
case"45":e[i]="£"
break
case"46":e[i]="$"
break
case"47":e[i]="€"
break
case"48":e[i]="+"
break
case"49":e[i]="*"
break
case"50":e[i]="%"
break
case"51":e[i]="^"
break
case"52":e[i]="°"
break
default:e[i]=0}return isType(t,"string")?e.join(""):e}return Essence.say("The parameter of abcDecode must be a string or an array.","err")}function addFav(t,i,e){var r=e?"#"+e:"body"
"Mic"==nav&&ver>=4?$e(r).write('<a href="#" onClick="window.external.AddFavorite('+t+", "+i+');return(false);">Bookmark this webpage</a><br />',!0):$e(r).write("Press CTRL+D to add this webpage to your bookmarks!",!0)}function checkBrowser(){return this.ver=navigator.appVersion,this.dom=document.getElementById?1:0,this.ie5=this.ver.indexOf("MSIE 5")>-1&&this.dom?1:0,this.ie4=document.all&&!this.dom?1:0,this.ns5=this.dom&&parseInt(this.ver)>=5?1:0,this.ns4=document.layers&&!this.dom?1:0,this.bw=this.ie5||this.ie4||this.ns4||this.ns5,this}function writemsg(t,i){for(var e=t.length+10;e>pos;)txt=t.substring(pos,0),i.write(txt),pos++}function dateTime(t){var i=new Date,e=i.getFullYear(),r=i.getMonth(),n=new Array("January","February","March","April","May","June","July","August","September","October","November","December"),o=i.getDate(),a=i.getDay(),h=i.getHours(),l=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saterday"),c="",u=i.getTimezoneOffset()
10>h&&(h="0"+h),m=i.getMinutes(),h>12?(h-=12,c="PM"):c="AM",m<10&&(m="0"+m),s=i.getSeconds(),s<10&&(s="0"+s),u=u>=0?"GMT+"+u:"GMT-"+u
var d="We're "+l[a]+" "+o+" "+n[r]+" "+e+" and it's "+h+":"+m+":"+s+" "+c+" "+u
return $e("#"+t).write(d,!0),setTimeout('dateTime("'+t+'");',1e3),!0}function viewHide(t){return"hidden"==$e("#"+t).css("visibility")?($e("#"+t).setCSS("visibility","visible"),$e("#btn_"+t).write("Hide",!0)):($e("#"+t).setCSS("visibility","hidden"),$e("#btn_"+t).write("View",!0)),!0}function process(t,i,e,r){this.name=t,this.author=i||"Anonymous",this.bitsize=0,this.description=e||"",this.content=r||"",this.sig=this.name[0]+this.name[this.name.length-1]+prodOfString(this.name)+this.author.slice(0,2)+"-"+getType(this.content)[0],this.update=function(){this.author!=i||"Anonymous"==this.author||isNon(this.author)?this.sig=this.name[0]+this.name[this.name.length-1]+"-"+prodOfString(this.name)+this.author.slice(0,2)+"-"+getType(this.content)[0]:this.sig=this.name[0]+this.name[this.name.length-1]+prodOfString(this.name)+this.author.slice(0,2)+"-"+getType(this.content)[0],"N"==this.sig[this.sig.length-1]?this.bitsize=8*sumOfString(conv(this.content,10,2)):"B"==this.sig[this.sig.length-1]?this.bitsize=8:"A"==this.sig[this.sig.length-1]?this.bitsize=is2dArray(this.content)?8*numElm(this.content):8*this.content.length:"O"==this.sig[this.sig.length-1]?this.bitsize=0:"S"==this.sig[this.sig.length-1]?this.bitsize=8*this.content.length:this.bitsize=null},this.update(),this.askPermission=function(t){this.update(),t.add(this)},this.destroy=function(){Essence.say("The process named "+this.name+" (created by "+this.author+") has been destroyed !","info")},Essence.addProcess(this)}function server(t,e,r,n,s){this.name=t,this.admin=e,this.version=n||1,this.maxsize=s||Math.pow(2,14),this.nb_slots=Math.pow(2,6),this.slots=mkArray(this.nb_slots,1,"empty"),this.type=r||"data",this.type=this.type.toLowerCase(),"data"==this.type?this.data=new database(this.name,range(1,1,this.maxsize),this.slots,["Index","Value"],this.admin,this.version):"process"==this.type?this.data=new database(this.name,range(1,1,this.maxsize),this.slots,["N°","Name","Author","Description","Content","Bit size"],this.admin,this.version):"storage"==this.type?this.data=new database(this.name,range(1,1,this.maxsize),this.slots,["Key","Value"],this.admin,this.version):"authentification"==this.type?this.data=new database(this.name,range(1,1,this.maxsize),this.slots,["Username","Password","Email","Hash"],this.admin,this.version):"register"==this.type||"details"==this.type?this.data=new database(this.name,range(1,1,this.maxsize),this.slots,["First name","Last Name","Title","Email","Phone","Sex","City/Country","Birthday","Websites","Job","Quote"],this.admin,this.version):"location"==this.type&&(this.data=new database(this.name,range(1,1,this.maxsize),this.slots,["Name","Longitude","Latitude"],this.admin,this.version)),this.addProcess=function(e){if("-"==e.sig[2]||e.bitsize>this.maxsize/this.nb_slots)console.log("[Server:"+t+"] The process named "+e.name+" has been rejected")
else{var r
for(i=0;i<this.nb_slots;i++)if(isNon(this.slots[i])){this.slots[i]=[e.name,e.author,e.description,e.content,e.bitsize],r=i,i=this.nb_slots
break}this.slots[r]!=[e.name,e.author,e.description,e.content,e.bitsize]&&this.nb_slots<this.maxsize&&(this.nb_slots+=this.maxsize/this.nb_slots,this.slots[this.nb_slots]=[e.name,e.author,e.description,e.content,e.bitsize])}},this.add=function(t){var e
for(i=0;i<this.nb_slots;i++)if(isNon(this.slots[i])){this.slots[i]=JSON.stringify(this),e=i,i=this.nb_slots
break}this.slots[e]!=t&&this.nb_slots<this.maxsize&&(this.nb_slots+=this.maxsize/this.nb_slots,this.slots[this.nb_slots]=JSON.stringify(this))},this.rm=function(t){this.slots[t]=null},this.store=function(){localStorage["server_"+this.name]=JSON.stringify(this)},this.update=function(){localStorage["server_"+this.name]?(this.name=localStorage["server_"+this.name].name,this.admin=localStorage["server_"+this.name].admin,this.version=localStorage["server_"+this.name].version,this.maxsize=localStorage["server_"+this.name].maxsize,this.nb_slots=localStorage["server_"+this.name].nb_slots,this.slots=JSON.parse(localStorage["server_"+this.name].slots),this.data=localStorage["server_"+this.name].data):this.store()},this.fire=function(t){for(i in this.slots)this.slots[i][0]==t.name&&this.slots[i][1]==t.author&&this.rm(i)},this.reset=function(){for(i in this.slots)this.rm(i)},Essence.addServer(this)}function setupConnexionEval(t,i,e,r){window.defaultStatus="Evalue the connexion and see the downloading speed",src=t||"img/random2000x2000.jpg"||"img\\random2000x2000.jpg",size=i||61784,delay=e||100,nb=-1,t1=0,t2=0,maxDelay=r||2e4}function CECheck(t){img=new Image,t1=(new Date).getTime(),img.src=src+"?t 1="+t1,nb=0,$e("#"+t).write("Verification in progress..."),setTimeout("CETimer("+t+")",delay)}function CETimer(t){nb++,$e("#"+t).write("Verification in progress..."),nb*delay>=maxDelay?$e("#"+t).write(evalConnexion(0)):img.complete?(t2=(new Date).getTime(),$n("#"+t).innerText=evalConnexion(size/(t2-t1)),console.log("["+Date()+"] Connexion: "+toNDigits(size/(t2-t1),3)+" kbps")):setTimeout("CETimer("+t+")",delay)}function evalDownload(t){return nb=-1,res="",0==t?res="No connexion":t>0&&56>=t?res="Low debit":t>56&&8e3>=t?res="ADSL debit":t>8e3&&2e4>=t?res="ADSL2+":t>2e4&&5e4>=t?res="wire":t>5e4&&1e5>=t?res="optical fibre":res="Ethernet",res+" ("+toNDigits(t,3)+" kbps)"}function evalUpload(t){return nb=-1,res="",0==t?res="No connexion":t>0&&56>=t?res="Low debit":t>56&&1e3>=t?res="ADSL+":t>1e3&&5e3>=t?res="wire":res="Ethernet",res+" ("+toNDigits(t,3)+" kbps)"}function evalPing(t){return nb=-1,res="",t>0&&30>=t?res="Excellent":t>30&&60>=t?res="Really good":t>60&&100>=t?res="Good":t>100&&200>=t?res="Okay":t>200&&300>=t?res="Poor":t>300&&400>=t?res="Bad":res="Really bad",res+" ("+ping+" ms)"}function msgBox(t,i,e,r,n,s){t=rmChar(t.toLowerCase()," ")
var o={borderColor:"#bababa",borderSize:"1px",borderRadius:5,backgroundColor:"#fbfbfb",textColor:"#000",textSize:"14px",textFont:"Calibrie",buttonBorderColor:"#aaa",buttonBorderSize:.8,buttonBorderRadius:5,buttonColor:"#ccc",buttonTextColor:"#000",buttonTextSize:"14px",buttonText:"OK"},a="",h=""
"info"==t?(a="img/info.png",h="i",o.borderColor="#088",o.backgroundColor="rgba(0,255,255,1)",console.info("[Essence.js] "+i+": "+e)):"error"==t?(a="img/error.png",h="x",o.borderColor="#800",o.backgroundColor="rgba(255,0,0,1)",o.textColor="#FFF",console.error("[Essence.js] "+i+": "+e)):"warning"==t?(a="img/warning.png",h="/!\\",o.borderColor="#840",o.backgroundColor="rgba(255,127,0,1)",o.textColor="#FFF",o.buttonText="Got it",console.warn("[Essence.js] "+i+": "+e)):"question"==t?(a="img/question.png",h="?",o.borderColor="#008",o.backgroundColor="rgba(0,0,255,1)",o.textColor="#FFF",o.buttonText="Continue",console.log("[Essence.js] "+i+": "+e+" ?")):"success"==t?(a="img/success.png",h="v/",o.borderColor="#080",o.backgroundColor="rgba(0,255,0,1)",o.textColor="#FFF",o.buttonText="OK",console.log("[Essence.js] "+i+": "+e)):"load"==t?(a="img/load.gif",h="o",o.borderColor="#888",o.backgroundColor="rgba(255,255,255,1)",o.textColor="#FFF",o.buttonText="Continue",console.log("[Essence.js] "+i+": "+e+"...")):"custom"==t?(a=s,h=" ",n.borderColor&&(o.borderColor=n.borderColor),n.borderSize&&(o.borderSize=n.borderSize),n.borderRadius&&(o.borderRadius=n.borderRadius),n.backgroundColor&&(o.backgroundColor=n.backgroundColor),n.textColor&&(o.textColor=n.textColor),n.textSize&&(o.textSize=n.textSize),n.textFont&&(o.textFont=n.textFont),n.buttonBorderColor&&(o.buttonBorderColor=n.buttonBorderColor),n.buttonBorderSize&&(o.buttonBorderSize=n.buttonBorderSize),n.buttonBorderRadius&&(o.buttonBorderRadius=n.buttonBorderRadius),n.buttonColor&&(o.buttonColor=n.buttonColor),n.buttonTextColor&&(o.buttonTextColor=n.buttonTextColor),n.buttonTextSize&&(o.buttonTextSize=n.buttonTextSize),n.buttonText&&(o.buttonText=n.buttonText),console.log("[Essence.js] "+i+": "+e)):a=!1
var l=document.createElement("div"),c=document.createElement("span"),u=document.createElement("p"),d=document.createElement("input"),f="<img src="+a+" alt='"+h+"' />"
l.id="overlay",c.id="msgBoxHeader",u.id="msg",d.id="msgBoxBtn",d.type="button",d.value=o.buttonText,f.id="msgImg",r?(c.innerHTML=i,u.innerHTML=e):(c.innerText=i,u.innerText=e),$e("#overlay").isVoid&&(Essence.handleError("The #overlay element is voided","essence.js",1336),$e("#overlay").write("<div id='overlay'></div>",!0),$n("#overlay")||body.appendChild(document.createElement("div").id="overlay")),$e("#overlay").setStyles(["visibility","hidden","position","absolute","left",0,"top",0,"width","100%","height","100%","text-align","center","z-index","1000","background","rgba(127,127,127,.5)"]),$e("div#overlay").setStyles(["width","300px","margin","100px auto","background",o.backgroundColor,"border",o.borderSize+" solid "+o.borderColor,"padding","15px","textAlign","center","boxShadow","3px 3px 3px #333","borderRadius",o.borderRadius]),$e("#msgBoxHeader").setStyles(["fontSize",parseInt(o.textSize+2)+"px","fontFamily",o.textFont,"color",o.textColor]),$e("#msg").setStyles(["fontSize",o.textSize,"fontFamily",o.textFont,"color",o.textColor]),$e("#btnBoxBtn").setStyles(["border",o.buttonBorderSize+" solid "+o.buttonBorderColor,"color",o.buttonTextColor,"fontSize",o.buttonTextSize]),$e("#msgImg").setStyles(["position","","top","2%","left","2%"]),l.appendChild(c,f,u,d),body.appendChild(l),d.onClick=function(){body.removeChild(l)}}function genPassword(){var t=[],e=["&","~",'"',"#","'","{","[","(","-","|","`","_","\\","^","@",")","]","+","=","}","%","*","?",",",";",".","/",":","!"," ",""],r=""
for(i=65;i<123;i++)(i<=90||i>=97)&&(t[i-65]=String.fromCharCode(i))
for(t=t.concat(e,range(0,1,9)).remove(void 0),t.indexOf(void 0)>-1&&(t=t.concat(e,range(0,1,9)).remove(void 0));r.length<20;)r+=t[randTo(t.length-1)]
return r.length<20&&(r+=t[randTo(t.length-1)]),r}function genHash(t){var e,r,n="",s=toNDigits((821-sumOfString(t))/avgOfString(t)*t.charCodeAt(0),1)
for(i=0;i<t.length;i++)e=toNDigits(t.charCodeAt(i)+s,1)%255,r=toNDigits(Math.abs(t.charCodeAt(i)+s),1),32>r&&(r+=48),n+=String.fromCharCode(clamp(r%127,32,126))
return n}function weekDay(t){var i,e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=parseInt(t.split("/")[0]),n=parseInt(t.split("/")[1]),s=parseInt(t.split("/")[2])
return i=Math.floor(s/100),s%=100,e[Math.round((1+2.6*n-.2+r+s+s/4+i/4-2*i)%7)-1]}function dayOfWeek(t){var i,e=parseInt(t.split("/")[0]),r=[0,3,3,6,1,4,6,2,5,0,3,5],n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],s=parseInt(t.split("/")[2])%100+Math.floor(t.split("/")[2]/4),o=Math.floor(t.split("/")[2]/100%4)
return i=0==o?6:1==o?4:2==o?2:0,n[(e+r[parseInt(t.split("/")[1])-1]+s+i)%7]}function linearGradient(t,i,e){var r=parseInt(conv(t,16)),n=parseInt(conv(i,16))
e=parseInt(e)||10
var s=((n-r).sign(),[]),o=(n-r)/(e-1)
for(j=0;j<e;j++)s.push(conv(r+j*o,10,16))
return s}function radialGradient(t,i,e){}function parseURL(t,e){var r=location.href.split("?")
if(r.length>1){var n=r[1].split("&")
if("[object Array]"===Object.prototype.toString.call(t))for(j=0;j<t.length;j++)for(i=0;i<n.length;i++){var s=n[i].split("=")
s[0]==t[j]&&("[object Array]"===Object.prototype.toString.call(e)?e[j](s[1],s[0]):e(s[1],s[0]))}else for(i=0;i<n.length;i++){var s=n[i].split("=")
s[0]==t&&e(s[1])}}}function GET(t){return(t=new RegExp("[?&]"+encodeURIComponent(t)+"=([^&]*)").exec(location.search))?decodeURIComponent(t[1]):void 0}function POST(t,i){var e=document.createElement("form")
e.setAttribute("method","post"),e.setAttribute("action",t)
for(var r in i)if(i.hasOwnProperty(r)){var n=document.createElement("input")
n.setAttribute("type","hidden"),n.setAttribute("name",r),n.setAttribute("value",i[r]),e.appendChild(n)}document.body.appendChild(e),e.submit()}function alphabetSort(t){}function hasNtimes(t,e){var r=0
for(i=0;i<t.length;i++)t[i]==e&&r++
return r}function timeUp(t,i,e){var r=new Date,n=0
return r=1e3*(60*r.getMinutes()+r.getSeconds())+r.getMilliseconds(),t(e),n=new Date,n=1e3*(60*n.getMinutes()+n.getSeconds())+n.getMilliseconds(),isNon(i)||"auto"==i.slice(0,4).toLowerCase()||"none"==i.slice(0,4).toLowerCase()?n-r>1e3?(n-r)/1e3+"s":n-r+"ms":"ms"==i.toLowerCase()||"millisec"==i.slice(0,8).toLowerCase()?n-r+"ms":(n-r)/1e3+"s"}function binarySearch(t,i){t.quickSort()
for(var e=2,r=t[Math.floor(t.length/e)];r!=i&&e>0;){if(r==i)return!0
e*=2,r=i>r?t[Math.floor(t.length/e)]:t[3*Math.floor(t.length/e)]}return r==i}function daynightMode(t){var i=(new Date).getHours()
t&&(dnM=!dnM),dnM?i>=21?$e("body").setStyles(["backgroundColor","#000","color","#fff"]):$e("body").setStyles(["backgroundColor","#fff","color","#000"]):Essence.say("You cannot use the day/night modder if it's disabled.","warn")}function archive(t,e){this.name=t,this.data=e,this.dictionnary=[],this.updateDict=function(){var t,r=[],n=alphabetSort(e)
for(i=0;i<e.length-1;i++)n[i]!=n[i+1]&&r.push(n[i])
for(r=rmDuplicates(r),console.log(getOccurences(r)),t=new Array(r.length),n=[],i=0;i<r.length;i++)t[i]=hasNtimes(e,r[i]),Essence.say("lexiq["+i+"]="+r[i]+" is present "+timesLiteral(t[i]),"inf"),n[i]=r[i]+t[i]
Essence.say("Lexiq of "+this.name+": "+r+"\ncounts: "+t)}}function Machine(t,e,r,n){switch(this.capacity=r||1024,this.version=e||5,this.name=t||"Machine_"+this.version,this.version){case 1:this.base=2
break
case 2:this.base=3
break
case 3:this.base=8
break
case 4:this.base=10
break
case 5:this.base=16
break
case 6:this.base=36
break
default:this.base=16}this.operation=function(t,i,e){switch(e){case"+":return t+i
case"-":return t-i
case"*":return t*i
case"/":return t/i
case"%":return t%i
case">>":return t>>i
case"<<":return t<<i
case">>>":return t>>>i
case">":return t>i
case"<":return i>t
case"|":return t|i
case"&":return t&i
case"^":return t^i
case"=":return t==i
case"!=":return t!=i
case">=":return t>=i
case"<=":return i>=t
case"||":return t||i
case"&&":return t&&i
default:return t+""+i}},this.inv=function(t){for(isType(t,"String")||(t+=""),i=0;i<t.length;i++)t[i]=parseInt(this.base)-1-parseFloat(t[i])
return t},this.memory=new Memory(this.capacity,n||"",this.name),this.send=function(t,i){POST(i,"msg="+this.parse(t))},this.parse=function(t){var e="",r=[]
for(i=0;i<t.length;i++)r[i]=conv(t[i],this.base),e+=String.fromCharCode(conv(t[i],this.base))
return console.log(r),JSON.parse(e)},this.unparse=function(t){var e=JSON.stringify(t),r="",n=[]
for(i=0;i<e.length;i++)n[i]=e.charCodeAt(i),r+=2==this.base?conv(e.charCodeAt(i).toNDigits(8),10,this.base):conv(e.charCodeAt(i),10,this.base)
return Essence.say(t+"= "+n,"info"),2==this.base?r.divide(8):r.divide(2)},this.store=function(t){this.memory.add(this.unparse(t)),this.memory.save()},this.show=function(){for(i=0;i<this.memory.slots.length;i++)Essence.say(this.memory.slots[i])},this.specs=function(){return"Name: "+this.name+"\nCapacity: "+this.capacity+" bits\nMemory: \n"+this.memory.toString()}}function Memory(t,e,r){this.capacity=t||1024,this.slots=new Array(this.capacity),this.type="local"==e?"local":"session",this.name=r?r+"_"+this.type+"M"+log(this.capacity):this.type+"M"+log(this.capacity),this.free=0,this.save=function(){for(i=0;i<this.slots.length;i++)"local"==this.type?localStorage.setItem(this.name+"#"+i,this.slots[i]):sessionStorage.setItem(this.name+"#"+i,this.slots[i])},this.remove=function(t){this.slots.remove(JSON.stringify(t)),"local"==this.type?localStorage.setItem(this.getLocation(t),void 0):sessionStorage.setItem(this.getLocation(t),void 0)},this.getLocation=function(t){if("local"==this.type){for(i in localStorage)if(localStorage[i]==JSON.stringify(t))return i}else for(i in sessionStorage)if(sessionStorage[i]==JSON.stringify(t))return i
return-1},this.clear=function(){if(this.slots=new Array(this.capacity),this.free=0,"local"==this.type)for(i in localStorage)i.indexOf(this.name)>-1&&localStorage.removeItem(i)
else for(i in sessionStorage)i.indexOf(this.name)>-1&&sessionStorage.removeItem(i)},this.add=function(t){this.slots[this.free++]=JSON.stringify(t)},this.print=function(){for(Essence.say(this.name+"'s slots: ","info"),i=0;i<this.slots.length;i++)try{Essence.say(i+": "+JSON.parse(this.slots[i]))}catch(t){Essence.say(i+": ")}},this.pop=function(){"local"==this.type?localStorage.removeItem(this.getLocation(this.slots.last())):sessionStorage.removeItem(this.getLocation(this.slots.last())),this.free--,this.slots.pop()},this.toString=function(){return this.type.capitalize()+" memory "+this.name+": "+toStr(this.slots,!0)}}function EvtShow(t){alert("	Name: "+t.name+"\nsource: "+t.source+"\ndata: "+t.data+"\ntarget: "+t.target+"\ntime stamp: "+t.timeStamp)}function evtLog(t){for(atr in t)Essence.say(atr+": "+t[atr])}function noobTest(t,i){try{t(i)}catch(e){location.href="http://stackoverflow.com/search?q=[js] + "+e.message}}function chTab(t){$e("#tab_"+oldTab).rmClass("tabOn"),$e("#tab_"+oldTab).addClass("tabOff"),$e("#tab_"+t).rmClass("tabOff"),$e("#tab_"+t).addClass("tabOn"),$e("#contentTab_"+oldTab).style.display="none",$e("#contentTab_"+t).style.display="block",oldTab=t}function WebPage(t,i,e,r){this.title=t||"My web page",this.path=""|i,this.author=e||"Maximilian Berkmann",this.version=r||1}var Essence={version:"1.0b",author:"Maximilian Berkmann",description:"library used for DHTML connexions, maths, database management and cryptography",source:document.URL.indexOf("essence.min.js")>-1?"https://www.dropbox.com/s/1prjdvv9ku0ga92/essence.min.js?dl=0":"https://www.dropbox.com/s/n2sz2mxz5zwc05t/essence.js?dl=0",element:$n,handleError:function(t,i,e){alert("[Essence.js] An error has occurred (line "+e+" of "+i+").\n\nMessage: "+t)},say:function(t,i){i=isNon(i)?"":i.slice(0,4).toLowerCase(),"info"==i?console.info("[Essence.js] "+t):"erro"==i?console.error("[Essence.js] "+t):"warn"==i?console.warn("[Essence.js] "+t):console.log("[Essence.js] "+t)},css:"*{font-family: Calibrie, Verdana, Segoe UI;}table{background: #000;}table, td, th{border: 1px solid #000; color: #000; background: #fff;}tr:nth-child(even){background: #ddd;}body{height:100%;padding:0;}",applyCSS:function(){if(isNon($n("style"))||$e("style").isVoid()?$e("head").html($n("head").outerHTML+"<style type='text/css'>"+Essence.css+"</style>"):$n("style").innerHTML+=Essence.css,$e("html").val(!0).indexOf("<body></body>")>-1){var t=$e("html").val(!0).indexOf("<body></body>"),i=$e("html").val(!0).slice(0,t),e=$e("html").val(!0).slice(t+13,$e("html").val(!0).length)
$e("html").write(i+e,!0)}},d2r:Math.PI/180,r2d:180/Math.PI,addCSS:function(t){var i=document.createElement("style")
i.innerText=t,$n("head").appendChild(i)},addJS:function(t){var i=document.createElement("script")
i.innerText=t,$n("head").appendChild(i)},update:function(){var t=$e("*script")
for(i=0;i<t.length;i++)(t[i].src.indexOf("essence.js")>-1||t[i].src.indexOf("essence.min.js")>-1)&&(t[i].src=Essence.source||source)
Essence.say("Essence.(min).js has been updated","info")},e:Math.exp(1),eps:Math.pow(2,-52),gcd:function(t,i){return i?Essence.gcd(i,t%i):Math.abs(t)},emptyDoc:function(t,i){$e("html").write("<head><title>"+(t||document.title)+"</title><meta charset='UTF-8' /><meta name='author' content="+(i||"unknown")+" /><script type='text/javascript' src="+Essence.source+"></script></head><body></body>",!0)},editor:function(t){location.href="data:text/html, <html contenteditable>"+(isFilled(t)?t+"</html>":"</html>")},processList:[["Name (signature)","Author","Size"]],addProcess:function(t){t.update(),Essence.processList.push([t.name+" ("+t.sig+")",t.author,t.bitsize]),t.id=Essence.processList.length-1,Essence.processSize+=t.bitsize},processSize:0,serverList:[["Name","Author","Maximum size"]],addServer:function(t){t.update(),Essence.serverList.push([t.name,t.author,t.maxsize]),Essence.serverSize+=t.maxsize},serverSize:0,toString:function(){return"[object Essence]"},txt2print:"",print:function(t){for(Essence.txt2print+=t,Essence.txt2print=Essence.txt2print.split("\b"),i=0;i<Essence.txt2print.length;i++)Essence.say(Essence.txt2print[i])
Essence.txt2print=""}},$e=function(t){return new Element(t)}
Array.prototype.first=function(){return this[0]},Array.prototype.last=function(){return this[this.length-1]},Array.prototype.lastIndex=function(){return this.length-1},Array.prototype.midIndex=function(){return Math.floor(this.length/2)},Array.prototype.even=function(){var t=[],e=0
for(i=0;i<this.length;i+=2)t[e++]=this[i]
return t},Array.prototype.odd=function(){var t=[],e=0
for(i=1;i<this.length;i+=2)t[e++]=this[i]
return t},Array.prototype.max=function(t,e){var r=this[t||0]
if(!t&&!e||0==t&&e>=this.length-1)for(i=1;i<this.length;i++)r=Math.max(r,this[i])
else if(t&&!e)for(i=t+1;i<this.length;i++)r=Math.max(r,this[i])
else for(i=t+1;i<=e;i++)r=Math.max(r,this[i])
return r},Array.prototype.median=function(){this.sort(function(t,i){return t-i})
var t=Math.floor(this.length/2)
return this.length%2?this[t]:(this[t-1]+this[t])/2},Array.prototype.min=function(t,e){var r=this[t||0]
if(!t&&!e||0==t&&e>=this.length-1)for(i=1;i<this.length;i++)r=Math.min(r,this[i])
else if(t&&!e)for(i=t+1;i<this.length;i++)r=Math.min(r,this[i])
else for(i=t+1;i<=e;i++)r=Math.min(r,this[i])
return r},Array.prototype.shuffle=function(t){for(i=0;i<(t||this.length);i++)swap(this,randTo(this.length-1),randTo(this.length-1))},Array.prototype.maxLength=function(){var t=0
for(i=0;i<this.length;i++)t=Math.max(t,this[i].length)
return t},Array.prototype.minLength=function(){var t=0
for(i=0;i<this.length;i++)t=Math.min(t,this[i].length)
return t},Array.prototype.Fill2D=function(t){return this.fill(new Array(this.length).fill(t))},Array.prototype.all=function(t){var e=t(0)
for(i=1;i<this.length;i++)e=e&&t(this[i])
return e},Array.prototype.remove=function(t){if(!isArray(t)){var e
for(i=0;i<this.length;i++)this[i]===t&&this.slice(0,i).concat(this.slice(i+1,this.length))
if(e=this.map(function(i){return i===t&&(i=void 0),i}),-1!=e.indexOf(void 0)&&e.length>0){var r=[]
for(i=0;i<e.length;i++)void 0!==e[i]&&r.push(isType(e[i],"Number")?parseFloat(e[i]):e[i])
e=r}return e}for(i=0;i<t.length;i++)this.remove(t[i])},Array.prototype.debug=function(){for(Essence.say("Debugging the following array: "+this),i=0;i<this.length;i++)Essence.say(i+": "+this[i])},Array.prototype.getOccurences=function(){var t=rmDuplicates(this),e=[],r=mkArray(t.length,2,0)
for(i in t)t.hasOwnProperty(i)&&Essence.say(t[i]+" occures "+timesLiteral(hasNtimes(arr,t[i])))
for(i in arr)if(arr.hasOwnProperty(i))for(j in t)t.hasOwnProperty(j)&&arr[i]==t[j]&&r[j].push(arr[i])
for(i in t)e[i]=t[i]+" is present at: "+r[i]
return e},Array.prototype.replace=function(t,e,r){for(i=0;i<this.length;i++)this[i]==t&&(this[i]=e)},Array.prototype.sum=function(t,e){var r=0
if(!t&&!e||0==t&&e>=this.length-1)for(i=0;i<this.length;i++)r+=this[i]
else if(t&&!e)for(i=t;i<this.length;i++)r+=this[i]
else for(i=t;i<=e;i++)r+=this[i]
return r},Array.prototype.prod=function(t,e){var r=0
if(!t&&!e||0==t&&e>=this.length-1)for(i=0;i<this.length;i++)r*=this[i]
else if(t&&!e)for(i=t;i<this.length;i++)r*=this[i]
else for(i=t;i<=e;i++)r*=this[i]
return r},Array.prototype.sum2d=function(t,e){var r=0
if(!t&&!e||0==t&&e>=this.length-1)for(i=0;i<this.length;i++)for(j=0;j<this[i].length;j++)r+=this[i][j]
else if(t&&!e)for(i=t[0];i<this.length;i++)for(j=t[1];j<this[i].length;j++)r+=this[i][j]
else for(i=t[0];i<e[0];i++)for(j=t[1];j<e[1];j++)r+=this[i][j]
return r},Array.prototype.mean=function(t,i,e){i||(i=0),e||(e=this.lastIndex())
var r=this.sum(i,e)
return(r/(this.length-i)).toNDec(t)+0},Array.prototype.avg=function(t,i,e){i||(i=0),e||(e=this.lastIndex())
var r=this.sum(i,e)-this.slice(i,e+1).max()-this.slice(i,e+1).min()
return(r/(this.length-2-i)).toNDec(t)+0},Array.prototype.variance=function(t){var i=Math.pow(this.mean(t),2),e=sumPow2(arr,t),r=arr.length
return(e/r-i).toNDec(t)},Array.prototype.stddev=function(t){var i=Math.sqrt(arr.variance(t))
return i.toNDec(t)},Array.prototype.rand=function(){return this[Math.floor(randTo(this.length-1)%this.length)]},Array.prototype.quartile=function(t,i){return this.length%2==0?((this[Math.floor(t*this.length/4)-1]+this[Math.floor(t*this.length/4)])/2).toNDec(i):values[Math.floor(t*values.length/4)].toNDec(i)},Array.prototype.quintile=function(t,i){return this.length%2==0?((this[Math.floor(t*this.length/5)-1]+this[Math.floor(t*this.length/5)])/2).toNDec(i):values[Math.floor(t*values.length/5)].toNDec(i)},Array.prototype.decile=function(t,i){return this.length%2==0?((this[Math.floor(t*this.length/10)-1]+this[Math.floor(t*this.length/10)])/2).toNDec(i):values[Math.floor(t*values.length/10)].toNDec(i)},Array.prototype.percentile=function(t,i){return this.length%2==0?((this[Math.floor(t*this.length/100)-1]+this[Math.floor(t*this.length/100)])/2).toNDec(i):values[Math.floor(t*values.length/100)].toNDec(i)},Array.prototype.getIncrement=function(t){return((this.max()-this.min())/(this.length-1)).toNDec(t)},Array.prototype.increment=function(t){for(i=0;i<this.length;i++)this[i]+=t||1},Array.prototype.iqr=function(t){return this.quartile(3,t)-this.quartile(1,t).toNDec(t)},Array.prototype.quickSort=function(t,i){t||i||(t=0,i=this.lastIndex())
var e
if(this.length>1){var r=this[Math.floor((i+t)/2)],n=i
for(e=t;n>=e;){for(;this[e]<r;)e++
for(;this[n]>r;)n--
n>=e&&(swap(this,e,n),e++,n--)}e-1>t&&this.quickSort(t,e-1),i>e&&this.quickSort(e,i)}return this},Array.prototype.revSort=function(t,i){t||i||(t=0,i=this.lastIndex())
var e
if(this.length>1){var r=this[Math.floor((i+t)/2)],n=i
for(e=t;n>=e;){for(;this[e]>r;)e++
for(;this[n]<r;)n--
n>=e&&(swap(this,e,n),e++,n--)}t>e-1&&this.revSort(t,e-1),e>i&&this.revSort(e,i)}return this},Array.prototype.bubbleSort=function(t){var e=this
if(isNon(t)||isType(t,"string")&&"a"==t[0].toLowerCase())for(;s;){for(s=!1,i=0;i<=newnewthis.length-j;i++)e[i]>e[i+1]&&(e=swap(e,i,i+1),s=!0),i<e.length-(j+1)&&(e[i]>e[i+2]&&(e=swap(e,i,i+2)),e[i+1]>e[i+2]&&(e=swap(e,i+1,i+2),s=!0)),i<e.length-(j+2)&&(e[i]>e[i+3]&&(e=swap(e,i,i+3)),e[i+1]>e[i+3]&&(e=swap(e,i+1,i+3))),n++
j++}else if(1==t||isType(t,"string")&&"d"==t[0].toLowerCase())for(;s;){for(s=!1,i=0;i<=e.length-j;i++)e[i]<e[i+1]&&(e=swap(e,i,i+1),s=!0),i<e.length-(j+1)&&(e[i]<e[i+2]&&(e=swap(e,i,i+2)),e[i+1]<e[i+2]&&(e=swap(e,i+1,i+2),s=!0)),i<e.length-(j+2)&&(e[i]<e[i+3]&&(e=swap(e,i,i+3)),e[i+1]<e[i+3]&&(e=swap(e,i+1,i+3))),n++
j++}return e},Array.prototype.bruteForceSort=function(){for(i=0;i<this.length;i++){for(s=this[i],pos=i,j=i+1;j<=this.length;j++)s>this[j]&&(s=this[j],pos=j),n++
var t=this[i]
this[i]=s,this[pos]=t}return this},Array.prototype.maxSort=function(){var t=this.min(),e=this.median(),r=this.max(),n=new Array(this.length),s=this.getIncrement(3),o=this.quartile(1),a=this.quartile(3)
for(n[0]=t,n[n.length-1]=r,n.length%2!=0&&(n[n.length/2]=e,n[n.length/4]=o,n[3*n.length/4]=a),i=1;i<this.length-1;i++)this[i]==Math.floor(n[0]+i*s)?n[i]=this[i]:this[i]==Math.round(n[0]+i*s)?n[i]=this[i]:this[i]==Math.ceil(n[0]+i*s)?n[i]=this[i]:this[i]>=Math.floor(n[0]+i*s)&&this[i]<=Math.ceil(n[0]+i*s)&&(n[i]=this[i])
for(i=this.length-1;i>1;i--)this[i]==Math.floor(n[n.length-1]-i*s)&&isNon(n[i])?n[i]=this[i]:this[i]==Math.round(n[n.length-1]-i*s)&&isNon(n[i])?n[i]=this[i]:this[i]==Math.ceil(n[n.length-1]+i*s)&&isNon(n[i])?n[i]=this[i]:this[i]>=Math.floor(n[n.length-1]+i*s)&&this[i]<=Math.ceil(n[0]+i*s)&&isNon(n[i])&&(n[i]=this[i])
for(i=1;i<this.length-1;i++)for(j=0;j<this.length;j++)this[j]==Math.floor(n[0]+i*s)?n[i]=this[j]:this[j]==Math.round(n[0]+i*s)?n[i]=this[j]:this[j]==Math.ceil(n[0]+i*s)?n[i]=this[j]:this[j]>=Math.floor(n[0]+i*s)&&this[j]<=Math.ceil(n[0]+i*s)&&(n[i]=this[j])
return n},Array.prototype.cenSort=function(t,i){var e=new Array(this.length)
if(t||i||(t=Math.floor(this.length/2),right=Math.ceil(this.length/2)),!(this.length<=1)){for(var r=this[Math.floor((i+t)/2)],n=i,s=t;n>=s;){for(;this[s]<r;)s--
for(;this[n]>r;)n++
s>=n&&(swap(this,s,n),s--,n++)}return t>s-1&&this.cenSort(t,s-1),s>i&&this.cenSort(s,i),e}},Array.prototype.spreadSort=function(){var t,i,e=this[this.midIndex()]
t=i=e},Array.prototype.setSort=function(){var t=[],e=this.length,r=[]
for(i=0;i<1e3;i++)t[i]=0
for(i=0;i<e;i++)t[this[i]]=1
for(i=0;i<1e3;i++)1==t[i]&&r.push(i)},Array.prototype.clean=function(t){var e=[],r=0
for(i=0;i<this.length;i++)isNon(this[i])||(e[r++]=this[i])
return t?rmDuplicates(e).remove(void 0):e},Array.prototype.xclean=function(){return this.clean(!0).remove([void 0,"undefined",null,"null"])},Array.prototype.rot=function(t){var i
if(t%90!=0)throw new Error("The absolute degree of rotation must be either 90° or 180°")
if(4==this.numElm()&&2==this.length)90==t?(i=this[0][0],this[0][0]=this[1][0],this[1][0]=this[1][1],this[1][1]=this[0][1],this[0][1]=i):-90==t?(i=this[0][0],this[0][0]=this[0][1],this[0][1]=this[1][1],this[1][1]=this[1][0],this[1][0]=i):180==Math.abs(t)&&(i=[this[0][0],this[0][1]],this[0][0]=this[1][1],this[1][1]=i[0],this[0][1]=this[1][0],this[1][0]=i[1])
else if(9==this.numElm()&&3==this.length)90==t?(i=[this[0][0],this[0][1]],this[0][0]=this[2][0],this[2][0]=this[2][2],this[2][2]=this[0][2],this[0][2]=i[0],this[0][1]=this[1][0],this[1][0]=this[2][1],this[2][1]=this[1][2],this[1][2]=i[1]):-90==t?(i=[this[0][0],this[0][1]],this[0][0]=this[0][2],this[0][2]=this[2][2],this[2][2]=this[2][0],this[2][0]=i[0],this[0][1]=this[1][2],this[1][2]=this[2][1],this[2][1]=this[1][0],this[1][0]=i[1]):180==Math.abs(t)&&(i=[this[0][0],this[0][1],this[0][2],this[1][0]],this[0][0]=this[2][2],this[2][2]=i[0],this[0][2]=this[2][0],this[2][0]=i[2],this[0][1]=this[2][1],this[2][1]=i[1],this[1][0]=this[1][2],this[1][2]=i[3])
else{if(16!=this.numElm()||4!=this.length)throw"Unsupported matrix. Please wait or contact the developer to add this matrix' support."
90==t?(i=[this[0][0],this[0][1]],this[0][0]=this[2][0],this[2][0]=this[2][2],this[2][2]=this[0][2],this[0][2]=i[0],this[0][1]=this[1][0],this[1][0]=this[2][1],this[2][1]=this[1][2],this[1][2]=i[1]):-90==t?(i=[this[0][0],this[0][1]],this[0][0]=this[0][2],this[0][2]=this[2][2],this[2][2]=this[2][0],this[2][0]=i[0],this[0][1]=this[1][2],this[1][2]=this[2][1],this[2][1]=this[1][0],this[1][0]=i[1]):180==Math.abs(t)&&(i=[this[0][0],this[0][1],this[0][2],this[1][0]],this[0][0]=this[2][2],this[2][2]=i[0],this[0][2]=this[2][0],this[2][0]=i[2],this[0][1]=this[2][1],this[2][1]=i[1],this[1][0]=this[1][2],this[1][2]=i[3])}return this},Array.prototype.numElm=function(){return this.toString().split(",").length},Array.prototype.size=function(t){return t?this.length+"x"+this.maxLength():[this.length,this.maxLength()]},Array.prototype.det=function(){var t=0
return 4==this.numElm()&&2==this.length?t=this[0][0]*this[1][1]-this[0][1]*this[1][0]:9==this.numElm()&&3==this.length?t=this[0][0]*(this[1][1]*this[2][2]-this[1][2]*this[2][1])-this[0][1]*(this[1][0]*this[2][2]-this[1][2]*this[2][0])+this[0][2]*(this[1][0]*this[2][1]-this[1][1]*this[2][0]):Essence.say("Unsupported matrix format","error"),t},Array.prototype.translate=function(){for(i=0;i<Math.round(this.length/2);i++)for(j=0;j<this[0].length;j++)if(!(1==i&&0==j&&this[0].length>2)){var t=this[i][j]
this[i][j]=this[j][i],this[j][i]=t}if("4x4"==this.size(!0)){var e=this[3][2]
this[3][2]=this[2][3],this[2][3]=e}return this},Array.prototype.lookFor=function(t){for(i=0;i<this.length;i++)if(this[i]==t)return i
return-1},Array.prototype.divide=function(t){var e=new Array(Math.round(this.length/t)).fill(""),r=0
for(i=0;i<e.length;i++)for(j=0;j<t;j++)e[i]+=this[r++]
return e},Array.prototype.getAdjoint=function(){var t=this.translate(),i=mkArray(this.length,2,Essence.eps)
return 4==t.numElm()&&2==t.length?(i[0]=[t[1][1],-t[1][0]],i[1]=[-t[0][1],t[0][1]]):9==t.numElm()&&3==t.length?(i[0]=[t[1][1]*t[2][2]-t[1][2]*t[2][1],-(t[1][0]*t[2][2]-t[1][2]*t[2][0]),t[1][0]*t[2][1]-t[1][1]*t[2][0]],i[1]=[-(t[0][1]*t[1][2]-t[0][2]*t[1][1]),t[0][0]*t[2][2]-t[0][2]*t[2][0],-(t[0][0]*t[2][1]-t[0][1]*t[2][0])],i[2]=[t[0][1]*t[1][2]-t[0][2]*t[1][1],-(t[0][0]*t[1][2]-t[0][2]*t[1][0]),t[0][0]*t[1][1]-t[0][1]*t[1][0]]):Essence.say("Unsupported matrix format","error"),i},Array.prototype.dotProd=function(t){var e=[]
for(i=0;i<this.length;i++)for(e[i]=[],j=0;j<this[i].length;j++)e[i][j]=t*this[i][j]
return e},Array.prototype.dotAdd=function(t){var e=[]
for(i=0;i<this.length;i++)for(e[i]=[],j=0;j<this[i].length;j++)e[i][j]=t+this[i][j]
return e},Array.prototype.dotSub=function(t,e){var r=[]
for(e=e.toLowerCase().remove(" "),i=0;i<this.length;i++)for(r[i]=[],j=0;j<this[i].length;j++)r[i][j]="a-b"==e?t-this[i][j]:this[i][j]-t
return r},Array.prototype.dotFrac=function(t,e){var r=[]
for(e=e.toLowerCase().remove(" "),i=0;i<this.length;i++)for(r[i]=[],j=0;j<this[i].length;j++)r[i][j]="a/b"==e?t/this[i][j]:this[i][j]/t
return r},Array.prototype.toStr=function(t){var e=""
if(is2dArray(this)){for(i in this)this.hasOwnProperty(i)&&(e+=t?this[i].join(", "):this[i].join(""))
return e}return this.join(t?", ":"")},Array.prototype.toInt=function(){var t=0
for(i in this)this.hasOwnProperty(i)&&(t+=this[i]*Math.pow(10,this.length-i-1))
return t},Array.prototype.inv=function(){return this.dotProd(1/this.det(),this.getAdjoint())},String.prototype.remove=function(t){if(!isArray(t)){var e=this.split(t).map(function(i){return i==t&&(i=void 0),i}).join("")
return-1!=e.indexOf(void 0)?this.remove(void 0):e}for(i in t)this.remove(i)},String.prototype.toNDigits=function(t){var i=this
if(t=t||2,parseFloat(i)<Math.pow(10,t-1))for(;i.split(".")[0].length<t;)i="0"+i
return i},String.prototype.mix=function(t,e){seperator=isNon(t)?"":t,e=e?e:t
var r=mixedRange(0,1,this.length-1),n=this.split(seperator||""),s=[]
for(i=0;i<this.length;i++)s[i]=n[r[i]]
return s.join(e)},String.prototype.divide=function(t){var e=new Array(Math.round(this.length/t)).fill(""),r=0
for(i=0;i<e.length;i++)for(j=0;j<t;j++)e[i]+=this[r++]
return e},String.prototype.capitalize=function(t){if(t){var e=this.split(" ")
for(i=0;i<e.length;i++)e[i][0]=e[i][0].toUpperCase()
return e.join(" ")}return this[0]=this[0].toUpperCase(),this.toString()},String.prototype.sum=function(){var t=0
for(i=0;i<this.length;i++)t+=this.charCodeAt(i)
return t},String.prototype.prod=function(){var t=1
for(i=0;i<this.length;i++)t*=this.charCodeAt(i)
return t},String.prototype.mean=function(){var t=[]
for(i=0;i<this.length;i++)t[i]=this.charCodeAt(i)
return t.mean(2)},Number.prototype.length=function(){if(-1!=(this+"").indexOf("."))return[parseInt((this+"").split(".")[0]).length(),parseInt((this+"").split(".")[1]).length()]
for(var t=0,i=this;0!=Math.floor(i);)i/=10,t++
return t},Number.prototype.toNDec=function(t){var i=Math.pow(10,t||2)
return t?Math.round(i*this)/i:this},Number.prototype.toNDigits=function(t){var i=this+""
if(t=t||2,parseFloat(i)<Math.pow(10,t-1))for(;i.split(".")[0].length<t;)i="0"+i
return i},Number.prototype.sign=function(t){return t?0>this?"-":this>0?"+":"":0>this?-1:this>0?1:0},Number.prototype.isPrime=function(t){for(i=2;i<t;i++)if(primeCheck(i,t))return!1
return!0},Number.prototype.clean=function(t){return 0==this?0:this>0&&"+"==this[0]?t?this.slice(1,this.length).toNDec(t):this.slice(1,this.length):"-"==this?this+1:"+"==this?1:t?this.toNDec(t):this},Number.prototype.toArr=function(){for(var t=new Array(this.length()),i=0,e=this;e>0;)t[i]=e%10,i++,e/=10
return e},Function.prototype.inheritsFrom=function(t){return t.constructor==Function?(this.prototype=new t,this.prototype.constructor=this,this.prototype.parent=t.prototype):(this.prototype=t,this.prototype.constructor=this,this.prototype.parent=t),this}
var isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},is2dArray=function(t){if(!isArray(t))return!1
for(i=0;i<t.length;i++)if(isArray(t[i]))return!0},isType=function(t,i){return i=i[0].toUpperCase()+i.slice(1,i.length).toLowerCase(),Object.prototype.toString.call(t)==="[object "+i+"]"},getType=function(t,i){var e=Object.prototype.toString.call(t)
return i?e:e.split(" ")[1].slice(0,e.split(" ")[1].length-1)},sec2time=s2t=s2time,toSec=toS
AABB.inheritsFrom(Shape),Circ.inheritsFrom(Shape),Pt.inheritsFrom(Shape),Line.inheritsFrom(Shape),Vector.inheritsFrom(Shape),Polygon.inheritsFrom(Shape)
var nav=navigator.appName.substring(0,3),ver=navigator.appVersion.substring(0,1),BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(t){for(var i=0;i<t.length;i++){var e=t[i].string,r=t[i].prop
if(this.versionSearchString=t[i].versionSearch||t[i].identity,e){if(-1!=e.indexOf(t[i].subString))return t[i].identity}else if(r)return t[i].identity}},searchVersion:function(t){var i=t.indexOf(this.versionSearchString)
if(-1!=i)return parseFloat(t.substring(i+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"Android",identity:"HTC/Samsung/LG"},{string:navigator.userAgent,subString:"BlackBerry",identity:"BlackBerry"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]}
BrowserDetect.init()
var pos=0,img,src,size=0,delay=100,nb=-1,t1=0,t2=0,maxDelay=2e4
base64={},base64.PADCHAR="=",base64.ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64.getbyte64=function(t,i){var e=base64.ALPHA.indexOf(t.charAt(i))
if(-1==e)throw"Cannot decode base64"
return e},base64.decode=function(t){t+=""
var i,e,r,n=base64.getbyte64,s=t.length
if(0==s)return t
if(s%4!=0)throw"Cannot decode base64"
i=0,t.charAt(s-1)==base64.PADCHAR&&(i=1,t.charAt(s-2)==base64.PADCHAR&&(i=2),s-=4)
var o=[]
for(e=0;s>e;e+=4)r=n(t,e)<<18|n(t,e+1)<<12|n(t,e+2)<<6|n(t,e+3),o.push(String.fromCharCode(r>>16,r>>8&255,255&r))
switch(i){case 1:r=n(t,e)<<18|n(t,e+1)<<12|n(t,e+2)<<6,o.push(String.fromCharCode(r>>16,r>>8&255))
break
case 2:r=n(t,e)<<18|n(t,e+1)<<12,o.push(String.fromCharCode(r>>16))}return o.join("")},base64.getbyte=function(t,i){var e=t.charCodeAt(i)
if(e>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5"
return e},base64.encode=function(t){if(1!=arguments.length)throw"SyntaxError: Not enough arguments"
var i,e,r=base64.PADCHAR,n=base64.ALPHA,s=base64.getbyte,o=[]
t+=""
var a=t.length-t.length%3
if(0==t.length)return t
for(i=0;a>i;i+=3)e=s(t,i)<<16||s(t,i+1)<<8||s(t,i+2),o.push(n.charAt(e>>18)),o.push(n.charAt(e>>12&63)),o.push(n.charAt(e>>6&63)),o.push(n.charAt(63&e))
switch(t.length-a){case 1:e=s(t,i)<<16,o.push(n.charAt(e>>18)+n.charAt(e>>12&63)+r+r)
break
case 2:e=s(t,i)<<16||s(t,i+1)<<8,o.push(n.charAt(e>>18)+n.charAt(e>>12&63)+n.charAt(e>>6&63)+r)}return o.join("")}
var dnM=!1,oldTab="home"
